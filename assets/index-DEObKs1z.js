var jn=Object.defineProperty;var Hn=(t,e,n)=>e in t?jn(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Pe=(t,e,n)=>Hn(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function H(){}function Cn(t){return t()}function St(){return Object.create(null)}function oe(t){t.forEach(Cn)}function ct(t){return typeof t=="function"}function fe(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}let Qe;function Ot(t,e){return t===e?!0:(Qe||(Qe=document.createElement("a")),Qe.href=e,t===Qe.href)}function qn(t){return Object.keys(t).length===0}function Pn(t,...e){if(t==null){for(const r of e)r(void 0);return H}const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function be(t,e,n){t.$$.on_destroy.push(Pn(e,n))}const Gn=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function f(t,e){t.appendChild(e)}function x(t,e,n){t.insertBefore(e,n||null)}function A(t){t.parentNode&&t.parentNode.removeChild(t)}function se(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function m(t){return document.createElement(t)}function K(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function Z(t){return document.createTextNode(t)}function E(){return Z(" ")}function Ie(){return Z("")}function Y(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function En(t){return function(e){return e.preventDefault(),t.call(this,e)}}function Un(t){return function(e){e.target===this&&t.call(this,e)}}function c(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function zn(t){return Array.from(t.childNodes)}function ee(t,e){e=""+e,t.data!==e&&(t.data=e)}function et(t,e){t.value=e??""}function Xn(t,e,{bubbles:n=!1,cancelable:r=!1}={}){return new CustomEvent(t,{detail:e,bubbles:n,cancelable:r})}let qe;function He(t){qe=t}function An(){if(!qe)throw new Error("Function called outside component initialization");return qe}function xn(t){An().$$.on_mount.push(t)}function ze(){const t=An();return(e,n,{cancelable:r=!1}={})=>{const i=t.$$.callbacks[e];if(i){const s=Xn(e,n,{cancelable:r});return i.slice().forEach(l=>{l.call(t,s)}),!s.defaultPrevented}return!0}}function ft(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach(r=>r.call(this,e))}const Le=[],Te=[];let Fe=[];const gt=[],Vn=Promise.resolve();let bt=!1;function Qn(){bt||(bt=!0,Vn.then(Ln))}function _t(t){Fe.push(t)}function tt(t){gt.push(t)}const dt=new Set;let Ee=0;function Ln(){if(Ee!==0)return;const t=qe;do{try{for(;Ee<Le.length;){const e=Le[Ee];Ee++,He(e),Kn(e.$$)}}catch(e){throw Le.length=0,Ee=0,e}for(He(null),Le.length=0,Ee=0;Te.length;)Te.pop()();for(let e=0;e<Fe.length;e+=1){const n=Fe[e];dt.has(n)||(dt.add(n),n())}Fe.length=0}while(Le.length);for(;gt.length;)gt.pop()();bt=!1,dt.clear(),He(t)}function Kn(t){if(t.fragment!==null){t.update(),oe(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(_t)}}function Jn(t){const e=[],n=[];Fe.forEach(r=>t.indexOf(r)===-1?e.push(r):n.push(r)),n.forEach(r=>r()),Fe=e}const Ze=new Set;let Me;function Oe(){Me={r:0,c:[],p:Me}}function De(){Me.r||oe(Me.c),Me=Me.p}function U(t,e){t&&t.i&&(Ze.delete(t),t.i(e))}function J(t,e,n,r){if(t&&t.o){if(Ze.has(t))return;Ze.add(t),Me.c.push(()=>{Ze.delete(t),r&&(n&&t.d(1),r())}),t.o(e)}else r&&r()}function X(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function Zn(t,e){J(t,1,1,()=>{e.delete(t.key)})}function $n(t,e,n,r,i,s,l,a,o,u,d,h){let g=t.length,_=s.length,w=g;const v={};for(;w--;)v[t[w].key]=w;const k=[],M=new Map,p=new Map,I=[];for(w=_;w--;){const O=h(i,s,w),B=n(O);let D=l.get(B);D?I.push(()=>D.p(O,e)):(D=u(B,O),D.c()),M.set(B,k[w]=D),B in v&&p.set(B,Math.abs(w-v[B]))}const L=new Set,C=new Set;function y(O){U(O,1),O.m(a,d),l.set(O.key,O),d=O.first,_--}for(;g&&_;){const O=k[_-1],B=t[g-1],D=O.key,S=B.key;O===B?(d=O.first,g--,_--):M.has(S)?!l.has(D)||L.has(D)?y(O):C.has(S)?g--:p.get(D)>p.get(S)?(C.add(D),y(O)):(L.add(S),g--):(o(B,l),g--)}for(;g--;){const O=t[g];M.has(O.key)||o(O,l)}for(;_;)y(k[_-1]);return oe(I),k}function nt(t,e,n){const r=t.$$.props[e];r!==void 0&&(t.$$.bound[r]=n,n(t.$$.ctx[r]))}function ce(t){t&&t.c()}function le(t,e,n){const{fragment:r,after_update:i}=t.$$;r&&r.m(e,n),_t(()=>{const s=t.$$.on_mount.map(Cn).filter(ct);t.$$.on_destroy?t.$$.on_destroy.push(...s):oe(s),t.$$.on_mount=[]}),i.forEach(_t)}function ae(t,e){const n=t.$$;n.fragment!==null&&(Jn(n.after_update),oe(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function er(t,e){t.$$.dirty[0]===-1&&(Le.push(t),Qn(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function de(t,e,n,r,i,s,l=null,a=[-1]){const o=qe;He(t);const u=t.$$={fragment:null,ctx:[],props:s,update:H,not_equal:i,bound:St(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(o?o.$$.context:[])),callbacks:St(),dirty:a,skip_bound:!1,root:e.target||o.$$.root};l&&l(u.root);let d=!1;if(u.ctx=n?n(t,e.props||{},(h,g,..._)=>{const w=_.length?_[0]:g;return u.ctx&&i(u.ctx[h],u.ctx[h]=w)&&(!u.skip_bound&&u.bound[h]&&u.bound[h](w),d&&er(t,h)),g}):[],u.update(),d=!0,oe(u.before_update),u.fragment=r?r(u.ctx):!1,e.target){if(e.hydrate){const h=zn(e.target);u.fragment&&u.fragment.l(h),h.forEach(A)}else u.fragment&&u.fragment.c();e.intro&&U(t.$$.fragment),le(t,e.target,e.anchor),Ln()}He(o)}class he{constructor(){Pe(this,"$$");Pe(this,"$$set")}$destroy(){ae(this,1),this.$destroy=H}$on(e,n){if(!ct(n))return H;const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(n),()=>{const i=r.indexOf(n);i!==-1&&r.splice(i,1)}}$set(e){this.$$set&&!qn(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const tr="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(tr);const Ae=[];function nr(t,e){return{subscribe:Xe(t,e).subscribe}}function Xe(t,e=H){let n;const r=new Set;function i(a){if(fe(t,a)&&(t=a,n)){const o=!Ae.length;for(const u of r)u[1](),Ae.push(u,t);if(o){for(let u=0;u<Ae.length;u+=2)Ae[u][0](Ae[u+1]);Ae.length=0}}}function s(a){i(a(t))}function l(a,o=H){const u=[a,o];return r.add(u),r.size===1&&(n=e(i,s)||H),a(t),()=>{r.delete(u),r.size===0&&n&&(n(),n=null)}}return{set:i,update:s,subscribe:l}}function kt(t,e,n){const r=!Array.isArray(t),i=r?[t]:t;if(!i.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const s=e.length<2;return nr(n,(l,a)=>{let o=!1;const u=[];let d=0,h=H;const g=()=>{if(d)return;h();const w=e(r?u[0]:u,l,a);s?l(w):h=ct(w)?w:H},_=i.map((w,v)=>Pn(w,k=>{u[v]=k,d&=~(1<<v),o&&g()},()=>{d|=1<<v}));return o=!0,g(),function(){oe(_),h(),o=!1}})}function rr(){const{subscribe:t,set:e,update:n}=Xe([]);return{subscribe:t,set:e,update:n,reset:()=>e([])}}const pe=rr();kt(pe,t=>t.sort((e,n)=>{var r,i,s,l;return(r=e.item.image)!=null&&r.url&&!((i=n.item.image)!=null&&i.url)?-1:!((s=e.item.image)!=null&&s.url)&&((l=n.item.image)!=null&&l.url)?1:new Date(n.item.published).getTime()-new Date(e.item.published).getTime()}));function ir(t){const e=new Map;return t.forEach(n=>{(n.item.categories||[]).forEach(r=>{e.set(r,(e.get(r)||0)+1)})}),Array.from(e.entries()).sort((n,r)=>r[1]-n[1]).map(([n])=>n)}const Fn=6048e5,sr=864e5,Ke=43200,Dt=1440,Tt=Symbol.for("constructDateFrom");function ue(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&Tt in t?t[Tt](e):t instanceof Date?new t.constructor(e):new Date(e)}function re(t,e){return ue(e||t,t)}function lr(t,e,n){const r=re(t,n==null?void 0:n.in);return isNaN(e)?ue(t,NaN):(r.setDate(r.getDate()+e),r)}function wt(t,e,n){const r=re(t,n==null?void 0:n.in);if(isNaN(e))return ue(t,NaN);if(!e)return r;const i=r.getDate(),s=ue(t,r.getTime());s.setMonth(r.getMonth()+e+1,0);const l=s.getDate();return i>=l?s:(r.setFullYear(s.getFullYear(),s.getMonth(),i),r)}let ar={};function Ve(){return ar}function Ge(t,e){var a,o,u,d;const n=Ve(),r=(e==null?void 0:e.weekStartsOn)??((o=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:o.weekStartsOn)??n.weekStartsOn??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,i=re(t,e==null?void 0:e.in),s=i.getDay(),l=(s<r?7:0)+s-r;return i.setDate(i.getDate()-l),i.setHours(0,0,0,0),i}function rt(t,e){return Ge(t,{...e,weekStartsOn:1})}function Nn(t,e){const n=re(t,e==null?void 0:e.in),r=n.getFullYear(),i=ue(n,0);i.setFullYear(r+1,0,4),i.setHours(0,0,0,0);const s=rt(i),l=ue(n,0);l.setFullYear(r,0,4),l.setHours(0,0,0,0);const a=rt(l);return n.getTime()>=s.getTime()?r+1:n.getTime()>=a.getTime()?r:r-1}function it(t){const e=re(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function Ce(t,...e){const n=ue.bind(null,t||e.find(r=>typeof r=="object"));return e.map(n)}function Ue(t,e){const n=re(t,e==null?void 0:e.in);return n.setHours(0,0,0,0),n}function or(t,e,n){const[r,i]=Ce(n==null?void 0:n.in,t,e),s=Ue(r),l=Ue(i),a=+s-it(s),o=+l-it(l);return Math.round((a-o)/sr)}function cr(t,e){const n=Nn(t,e),r=ue(t,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),rt(r)}function $e(t,e){const n=+re(t)-+re(e);return n<0?-1:n>0?1:n}function ur(t){return ue(t,Date.now())}function st(t,e,n){const[r,i]=Ce(n==null?void 0:n.in,t,e);return+Ue(r)==+Ue(i)}function fr(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function dr(t){return!(!fr(t)&&typeof t!="number"||isNaN(+re(t)))}function hr(t,e,n){const[r,i]=Ce(n==null?void 0:n.in,t,e),s=r.getFullYear()-i.getFullYear(),l=r.getMonth()-i.getMonth();return s*12+l}function mr(t){return e=>{const r=(t?Math[t]:Math.trunc)(e);return r===0?0:r}}function gr(t,e){return+re(t)-+re(e)}function br(t,e){const n=re(t,e==null?void 0:e.in);return n.setHours(23,59,59,999),n}function In(t,e){const n=re(t,e==null?void 0:e.in),r=n.getMonth();return n.setFullYear(n.getFullYear(),r+1,0),n.setHours(23,59,59,999),n}function _r(t,e){const n=re(t,e==null?void 0:e.in);return+br(n,e)==+In(n,e)}function wr(t,e,n){const[r,i,s]=Ce(n==null?void 0:n.in,t,t,e),l=$e(i,s),a=Math.abs(hr(i,s));if(a<1)return 0;i.getMonth()===1&&i.getDate()>27&&i.setDate(30),i.setMonth(i.getMonth()-l*a);let o=$e(i,s)===-l;_r(r)&&a===1&&$e(r,s)===1&&(o=!1);const u=l*(a-+o);return u===0?0:u}function pr(t,e,n){const r=gr(t,e)/1e3;return mr(n==null?void 0:n.roundingMethod)(r)}function vr(t,e){const[n,r]=Ce(t,e.start,e.end);return{start:n,end:r}}function kr(t,e){const{start:n,end:r}=vr(e==null?void 0:e.in,t);let i=+n>+r;const s=i?+n:+r,l=i?r:n;l.setHours(0,0,0,0);let a=1;const o=[];for(;+l<=s;)o.push(ue(n,l)),l.setDate(l.getDate()+a),l.setHours(0,0,0,0);return i?o.reverse():o}function Ct(t,e){const n=re(t,e==null?void 0:e.in);return n.setDate(1),n.setHours(0,0,0,0),n}function yr(t,e){const n=re(t,e==null?void 0:e.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}const Mr={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Sr=(t,e,n)=>{let r;const i=Mr[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function ht(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const Or={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Dr={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Tr={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Cr={date:ht({formats:Or,defaultWidth:"full"}),time:ht({formats:Dr,defaultWidth:"full"}),dateTime:ht({formats:Tr,defaultWidth:"full"})},Pr={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Er=(t,e,n,r)=>Pr[t];function We(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const l=t.defaultFormattingWidth||t.defaultWidth,a=n!=null&&n.width?String(n.width):l;i=t.formattingValues[a]||t.formattingValues[l]}else{const l=t.defaultWidth,a=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[a]||t.values[l]}const s=t.argumentCallback?t.argumentCallback(e):e;return i[s]}}const Ar={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},xr={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Lr={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Fr={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Nr={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Ir={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Br=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},Rr={ordinalNumber:Br,era:We({values:Ar,defaultWidth:"wide"}),quarter:We({values:xr,defaultWidth:"wide",argumentCallback:t=>t-1}),month:We({values:Lr,defaultWidth:"wide"}),day:We({values:Fr,defaultWidth:"wide"}),dayPeriod:We({values:Nr,defaultWidth:"wide",formattingValues:Ir,defaultFormattingWidth:"wide"})};function Ye(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],s=e.match(i);if(!s)return null;const l=s[0],a=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],o=Array.isArray(a)?Yr(a,h=>h.test(l)):Wr(a,h=>h.test(l));let u;u=t.valueCallback?t.valueCallback(o):o,u=n.valueCallback?n.valueCallback(u):u;const d=e.slice(l.length);return{value:u,rest:d}}}function Wr(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function Yr(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function jr(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],s=e.match(t.parsePattern);if(!s)return null;let l=t.valueCallback?t.valueCallback(s[0]):s[0];l=n.valueCallback?n.valueCallback(l):l;const a=e.slice(i.length);return{value:l,rest:a}}}const Hr=/^(\d+)(th|st|nd|rd)?/i,qr=/\d+/i,Gr={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Ur={any:[/^b/i,/^(a|c)/i]},zr={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Xr={any:[/1/i,/2/i,/3/i,/4/i]},Vr={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Qr={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Kr={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Jr={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Zr={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},$r={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},ei={ordinalNumber:jr({matchPattern:Hr,parsePattern:qr,valueCallback:t=>parseInt(t,10)}),era:Ye({matchPatterns:Gr,defaultMatchWidth:"wide",parsePatterns:Ur,defaultParseWidth:"any"}),quarter:Ye({matchPatterns:zr,defaultMatchWidth:"wide",parsePatterns:Xr,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Ye({matchPatterns:Vr,defaultMatchWidth:"wide",parsePatterns:Qr,defaultParseWidth:"any"}),day:Ye({matchPatterns:Kr,defaultMatchWidth:"wide",parsePatterns:Jr,defaultParseWidth:"any"}),dayPeriod:Ye({matchPatterns:Zr,defaultMatchWidth:"any",parsePatterns:$r,defaultParseWidth:"any"})},Bn={code:"en-US",formatDistance:Sr,formatLong:Cr,formatRelative:Er,localize:Rr,match:ei,options:{weekStartsOn:0,firstWeekContainsDate:1}};function ti(t,e){const n=re(t,e==null?void 0:e.in);return or(n,yr(n))+1}function ni(t,e){const n=re(t,e==null?void 0:e.in),r=+rt(n)-+cr(n);return Math.round(r/Fn)+1}function Rn(t,e){var d,h,g,_;const n=re(t,e==null?void 0:e.in),r=n.getFullYear(),i=Ve(),s=(e==null?void 0:e.firstWeekContainsDate)??((h=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??i.firstWeekContainsDate??((_=(g=i.locale)==null?void 0:g.options)==null?void 0:_.firstWeekContainsDate)??1,l=ue((e==null?void 0:e.in)||t,0);l.setFullYear(r+1,0,s),l.setHours(0,0,0,0);const a=Ge(l,e),o=ue((e==null?void 0:e.in)||t,0);o.setFullYear(r,0,s),o.setHours(0,0,0,0);const u=Ge(o,e);return+n>=+a?r+1:+n>=+u?r:r-1}function ri(t,e){var a,o,u,d;const n=Ve(),r=(e==null?void 0:e.firstWeekContainsDate)??((o=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:o.firstWeekContainsDate)??n.firstWeekContainsDate??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,i=Rn(t,e),s=ue((e==null?void 0:e.in)||t,0);return s.setFullYear(i,0,r),s.setHours(0,0,0,0),Ge(s,e)}function ii(t,e){const n=re(t,e==null?void 0:e.in),r=+Ge(n,e)-+ri(n,e);return Math.round(r/Fn)+1}function V(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const _e={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return V(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):V(n+1,2)},d(t,e){return V(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return V(t.getHours()%12||12,e.length)},H(t,e){return V(t.getHours(),e.length)},m(t,e){return V(t.getMinutes(),e.length)},s(t,e){return V(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return V(i,e.length)}},xe={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Pt={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return _e.y(t,e)},Y:function(t,e,n,r){const i=Rn(t,r),s=i>0?i:1-i;if(e==="YY"){const l=s%100;return V(l,2)}return e==="Yo"?n.ordinalNumber(s,{unit:"year"}):V(s,e.length)},R:function(t,e){const n=Nn(t);return V(n,e.length)},u:function(t,e){const n=t.getFullYear();return V(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return V(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return V(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return _e.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return V(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const i=ii(t,r);return e==="wo"?n.ordinalNumber(i,{unit:"week"}):V(i,e.length)},I:function(t,e,n){const r=ni(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):V(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):_e.d(t,e)},D:function(t,e,n){const r=ti(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):V(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return V(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return V(s,e.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return V(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let i;switch(r===12?i=xe.noon:r===0?i=xe.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let i;switch(r>=17?i=xe.evening:r>=12?i=xe.afternoon:r>=4?i=xe.morning:i=xe.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return _e.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):_e.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):V(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):V(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):_e.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):_e.s(t,e)},S:function(t,e){return _e.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return At(r);case"XXXX":case"XX":return ke(r);case"XXXXX":case"XXX":default:return ke(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return At(r);case"xxxx":case"xx":return ke(r);case"xxxxx":case"xxx":default:return ke(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+Et(r,":");case"OOOO":default:return"GMT"+ke(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+Et(r,":");case"zzzz":default:return"GMT"+ke(r,":")}},t:function(t,e,n){const r=Math.trunc(+t/1e3);return V(r,e.length)},T:function(t,e,n){return V(+t,e.length)}};function Et(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Math.trunc(r/60),s=r%60;return s===0?n+String(i):n+String(i)+e+V(s,2)}function At(t,e){return t%60===0?(t>0?"-":"+")+V(Math.abs(t)/60,2):ke(t,e)}function ke(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=V(Math.trunc(r/60),2),s=V(r%60,2);return n+i+e+s}const xt=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},Wn=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},si=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return xt(t,e);let s;switch(r){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",xt(r,e)).replace("{{time}}",Wn(i,e))},li={p:Wn,P:si},ai=/^D+$/,oi=/^Y+$/,ci=["D","DD","YY","YYYY"];function ui(t){return ai.test(t)}function fi(t){return oi.test(t)}function di(t,e,n){const r=hi(t,e,n);if(console.warn(r),ci.includes(t))throw new RangeError(r)}function hi(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const mi=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,gi=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,bi=/^'([^]*?)'?$/,_i=/''/g,wi=/[a-zA-Z]/;function me(t,e,n){var d,h,g,_;const r=Ve(),i=r.locale??Bn,s=r.firstWeekContainsDate??((h=(d=r.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??1,l=r.weekStartsOn??((_=(g=r.locale)==null?void 0:g.options)==null?void 0:_.weekStartsOn)??0,a=re(t,n==null?void 0:n.in);if(!dr(a))throw new RangeError("Invalid time value");let o=e.match(gi).map(w=>{const v=w[0];if(v==="p"||v==="P"){const k=li[v];return k(w,i.formatLong)}return w}).join("").match(mi).map(w=>{if(w==="''")return{isToken:!1,value:"'"};const v=w[0];if(v==="'")return{isToken:!1,value:pi(w)};if(Pt[v])return{isToken:!0,value:w};if(v.match(wi))throw new RangeError("Format string contains an unescaped latin alphabet character `"+v+"`");return{isToken:!1,value:w}});i.localize.preprocessor&&(o=i.localize.preprocessor(a,o));const u={firstWeekContainsDate:s,weekStartsOn:l,locale:i};return o.map(w=>{if(!w.isToken)return w.value;const v=w.value;(fi(v)||ui(v))&&di(v,e,String(t));const k=Pt[v[0]];return k(a,v,i.localize,u)}).join("")}function pi(t){const e=t.match(bi);return e?e[1].replace(_i,"'"):t}function vi(t,e,n){const r=Ve(),i=(n==null?void 0:n.locale)??r.locale??Bn,s=2520,l=$e(t,e);if(isNaN(l))throw new RangeError("Invalid time value");const a=Object.assign({},n,{addSuffix:n==null?void 0:n.addSuffix,comparison:l}),[o,u]=Ce(n==null?void 0:n.in,...l>0?[e,t]:[t,e]),d=pr(u,o),h=(it(u)-it(o))/1e3,g=Math.round((d-h)/60);let _;if(g<2)return n!=null&&n.includeSeconds?d<5?i.formatDistance("lessThanXSeconds",5,a):d<10?i.formatDistance("lessThanXSeconds",10,a):d<20?i.formatDistance("lessThanXSeconds",20,a):d<40?i.formatDistance("halfAMinute",0,a):d<60?i.formatDistance("lessThanXMinutes",1,a):i.formatDistance("xMinutes",1,a):g===0?i.formatDistance("lessThanXMinutes",1,a):i.formatDistance("xMinutes",g,a);if(g<45)return i.formatDistance("xMinutes",g,a);if(g<90)return i.formatDistance("aboutXHours",1,a);if(g<Dt){const w=Math.round(g/60);return i.formatDistance("aboutXHours",w,a)}else{if(g<s)return i.formatDistance("xDays",1,a);if(g<Ke){const w=Math.round(g/Dt);return i.formatDistance("xDays",w,a)}else if(g<Ke*2)return _=Math.round(g/Ke),i.formatDistance("aboutXMonths",_,a)}if(_=wr(u,o),_<12){const w=Math.round(g/Ke);return i.formatDistance("xMonths",w,a)}else{const w=_%12,v=Math.trunc(_/12);return w<3?i.formatDistance("aboutXYears",v,a):w<9?i.formatDistance("overXYears",v,a):i.formatDistance("almostXYears",v+1,a)}}function ki(t,e){return vi(t,ur(t),e)}function lt(t,e){return+re(t)>+re(e)}function at(t,e,n){const[r,i]=Ce(n==null?void 0:n.in,t,e);return r.getFullYear()===i.getFullYear()&&r.getMonth()===i.getMonth()}function Lt(t,e,n){return lr(t,-e,n)}function ot(t){return Ue(Date.now(),t)}function yi(t,e,n){return wt(t,-e,n)}const Je={HEADER_SEARCH_PLACEHOLDER:"Search articles...",HEADER_CLEAR_BUTTON:"Clear",SIDEBAR_AUTHORS_TITLE:"Authors",SIDEBAR_TOPICS_TITLE:"Topics",SIDEBAR_PUBLICATIONS_TITLE:"Publications",SIDEBAR_CLEAR_BUTTON:"Clear",SIDEBAR_SHOW_MORE:"Show more",SIDEBAR_SHOW_LESS:"Show less",SIDEBAR_NO_AUTHORS:"No authors available",SIDEBAR_NO_TOPICS:"No topics available",SIDEBAR_NO_PUBLICATIONS:"No publications available",GRID_NO_ARTICLES:"No articles found",GRID_NO_BOOKMARKS:"No bookmarked articles yet",CALENDAR_TITLE:"Select Date",CALENDAR_WEEKDAYS:["Su","Mo","Tu","We","Th","Fr","Sa"],FOOTER_HELP:"Help",FOOTER_LICENSE:"License",BUTTON_HOME:"Show all articles",BUTTON_FAVORITES:"Show favorites",BUTTON_GRID_VIEW:"Switch to grid view",BUTTON_LIST_VIEW:"Switch to list view",BUTTON_CALENDAR:"Calendar"},mt={BOOKMARKS:"bookmarkedArticles"},Ft={BASE_URL:"https://raw.githubusercontent.com/heyrovsky/rss-repo/main/feeds",MAX_RETRIES:7},je={MOBILE_BREAKPOINT:768,ARTICLES_PER_PAGE:{GRID:12,LIST:6}},Mi={DISPLAY_DATE:"MMMM d, yyyy",URL_DATE:"MMMM-yyyy/dd-MM-yyyy",RELATIVE_DATE:"MMM d, yyyy"},ye=class ye{constructor(){Pe(this,"baseUrl",Ft.BASE_URL);Pe(this,"maxRetries",Ft.MAX_RETRIES)}static getInstance(){return ye.instance||(ye.instance=new ye),ye.instance}formatDate(e){const n=me(e,"MMMM-yyyy"),r=e.getDate(),i=e.getMonth()+1,s=e.getFullYear();return`${n}/${r}-${i}-${s}.json`}async fetchArticles(e=ot()){let n=e,r=0;for(;r<this.maxRetries;)try{const i=this.formatDate(n),s=`${this.baseUrl}/${i}`,l=await fetch(s);if(!l.ok)throw new Error(`Failed to fetch articles: ${l.status}`);const a=await l.json();if((a==null?void 0:a.length)>0){pe.set(a);return}n=Lt(n,1),r++}catch(i){if(console.error(`Error fetching articles for ${me(n,Mi.DISPLAY_DATE)}:`,i),n=Lt(n,1),r++,r===this.maxRetries){console.error("Error fetching articles after multiple retries:",i),pe.set([]);return}}console.error("No articles found in the last 7 days"),pe.set([])}};Pe(ye,"instance");let pt=ye;function Si(){const{subscribe:t,set:e,update:n}=Xe({authors:[],topics:[],publications:[]});return{subscribe:t,addFilter:(r,i)=>n(s=>s[r].includes(i)?s:{...s,[r]:[...s[r],i]}),removeFilter:(r,i)=>n(s=>({...s,[r]:s[r].filter(l=>l!==i)})),clearFilters:()=>e({authors:[],topics:[],publications:[]}),clearFilterType:r=>n(i=>({...i,[r]:[]}))}}const we=Si();kt(we,t=>t.authors.length>0||t.topics.length>0||t.publications.length>0);const Se=Xe("");kt([pe,Se],([t,e])=>{if(!e)return t;const n=e.toLowerCase();return t.filter(r=>{var i,s,l;return r.item.title.toLowerCase().includes(n)||r.item.description.toLowerCase().includes(n)||((i=r.item.authors)==null?void 0:i.some(a=>a.name.toLowerCase().includes(n)))||((s=r.item.source)==null?void 0:s.toLowerCase().includes(n))||((l=r.item.categories)==null?void 0:l.some(a=>a.toLowerCase().includes(n)))})});const{window:Oi}=Gn;function Nt(t,e,n){const r=t.slice();r[17]=e[n];const i=lt(r[17],r[7]);return r[18]=i,r}function It(t,e,n){const r=t.slice();return r[21]=e[n],r}function Bt(t,e,n){const r=t.slice();return r[17]=e[n],r}function Rt(t,e,n){const r=t.slice();r[17]=e[n];const i=lt(r[17],r[7]);return r[18]=i,r}function Wt(t,e,n){const r=t.slice();return r[21]=e[n],r}function Yt(t,e,n){const r=t.slice();return r[17]=e[n],r}function jt(t){let e;function n(s,l){return s[4]?Ti:Di}let r=n(t),i=r(t);return{c(){i.c(),e=Ie()},m(s,l){i.m(s,l),x(s,e,l)},p(s,l){r===(r=n(s))&&i?i.p(s,l):(i.d(1),i=r(s),i&&(i.c(),i.m(e.parentNode,e)))},d(s){s&&A(e),i.d(s)}}}function Di(t){let e,n,r,i,s,l=me(t[2],"MMMM yyyy")+"",a,o,u,d,h,g,_,w,v,k,M,p,I,L=X(t[5]),C=[];for(let S=0;S<L.length;S+=1)C[S]=Ht(Bt(t,L,S));let y=X(Array.from({length:new Date(t[2].getFullYear(),t[2].getMonth(),1).getDay()},Qt)),O=[];for(let S=0;S<y.length;S+=1)O[S]=qt(It(t,y,S));let B=X(t[6]),D=[];for(let S=0;S<B.length;S+=1)D[S]=Gt(Nt(t,B,S));return{c(){e=m("div"),n=m("div"),r=m("button"),r.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path></svg>',i=E(),s=m("h2"),a=Z(l),o=E(),u=m("button"),d=K("svg"),h=K("path"),_=E(),w=m("div");for(let S=0;S<C.length;S+=1)C[S].c();v=E(),k=m("div");for(let S=0;S<O.length;S+=1)O[S].c();M=E();for(let S=0;S<D.length;S+=1)D[S].c();c(r,"class","premium-icon-button"),c(s,"class","text-surface-900 font-medium"),c(h,"stroke-linecap","round"),c(h,"stroke-linejoin","round"),c(h,"stroke-width","2"),c(h,"d","M9 5l7 7-7 7"),c(d,"xmlns","http://www.w3.org/2000/svg"),c(d,"class","h-5 w-5"),c(d,"fill","none"),c(d,"viewBox","0 0 24 24"),c(d,"stroke","currentColor"),c(u,"class","premium-icon-button disabled:opacity-50"),u.disabled=g=!t[3],c(n,"class","flex items-center justify-between mb-4"),c(w,"class","grid grid-cols-7 gap-1 mb-2"),c(k,"class","grid grid-cols-7 gap-1"),c(e,"class","absolute top-full left-0 mt-2 premium-card p-4 min-w-[320px] z-50")},m(S,W){x(S,e,W),f(e,n),f(n,r),f(n,i),f(n,s),f(s,a),f(n,o),f(n,u),f(u,d),f(d,h),f(e,_),f(e,w);for(let b=0;b<C.length;b+=1)C[b]&&C[b].m(w,null);f(e,v),f(e,k);for(let b=0;b<O.length;b+=1)O[b]&&O[b].m(k,null);f(k,M);for(let b=0;b<D.length;b+=1)D[b]&&D[b].m(k,null);p||(I=[Y(r,"click",t[9]),Y(u,"click",t[8])],p=!0)},p(S,W){if(W[0]&4&&l!==(l=me(S[2],"MMMM yyyy")+"")&&ee(a,l),W[0]&8&&g!==(g=!S[3])&&(u.disabled=g),W[0]&32){L=X(S[5]);let b;for(b=0;b<L.length;b+=1){const T=Bt(S,L,b);C[b]?C[b].p(T,W):(C[b]=Ht(T),C[b].c(),C[b].m(w,null))}for(;b<C.length;b+=1)C[b].d(1);C.length=L.length}if(W[0]&4){y=X(Array.from({length:new Date(S[2].getFullYear(),S[2].getMonth(),1).getDay()},Qt));let b;for(b=0;b<y.length;b+=1){const T=It(S,y,b);O[b]?O[b].p(T,W):(O[b]=qt(),O[b].c(),O[b].m(k,M))}for(;b<O.length;b+=1)O[b].d(1);O.length=y.length}if(W[0]&1221){B=X(S[6]);let b;for(b=0;b<B.length;b+=1){const T=Nt(S,B,b);D[b]?D[b].p(T,W):(D[b]=Gt(T),D[b].c(),D[b].m(k,null))}for(;b<D.length;b+=1)D[b].d(1);D.length=B.length}},d(S){S&&A(e),se(C,S),se(O,S),se(D,S),p=!1,oe(I)}}}function Ti(t){let e,n,r,i,s,l,a,o,u,d,h,g,_=me(t[2],"MMMM yyyy")+"",w,v,k,M,p,I,L,C,y,O,B,D,S,W=X(t[5]),b=[];for(let F=0;F<W.length;F+=1)b[F]=Ut(Yt(t,W,F));let T=X(Array.from({length:new Date(t[2].getFullYear(),t[2].getMonth(),1).getDay()},Vt)),P=[];for(let F=0;F<T.length;F+=1)P[F]=zt(Wt(t,T,F));let q=X(t[6]),Q=[];for(let F=0;F<q.length;F+=1)Q[F]=Xt(Rt(t,q,F));return{c(){e=m("div"),n=m("div"),r=m("div"),i=m("button"),i.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>',s=E(),l=m("h2"),l.textContent="Select Date",a=E(),o=m("div"),u=m("div"),d=m("button"),d.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path></svg>',h=E(),g=m("h2"),w=Z(_),v=E(),k=m("button"),M=K("svg"),p=K("path"),L=E(),C=m("div");for(let F=0;F<b.length;F+=1)b[F].c();y=E(),O=m("div");for(let F=0;F<P.length;F+=1)P[F].c();B=E();for(let F=0;F<Q.length;F+=1)Q[F].c();c(i,"class","premium-icon-button"),c(l,"class","text-lg font-medium text-surface-900"),c(r,"class","flex items-center space-x-4 mb-6"),c(d,"class","premium-icon-button"),c(g,"class","text-surface-900 font-medium"),c(p,"stroke-linecap","round"),c(p,"stroke-linejoin","round"),c(p,"stroke-width","2"),c(p,"d","M9 5l7 7-7 7"),c(M,"xmlns","http://www.w3.org/2000/svg"),c(M,"class","h-5 w-5"),c(M,"fill","none"),c(M,"viewBox","0 0 24 24"),c(M,"stroke","currentColor"),c(k,"class","premium-icon-button disabled:opacity-50"),k.disabled=I=!t[3],c(u,"class","flex items-center justify-between mb-4"),c(C,"class","grid grid-cols-7 gap-1 mb-2"),c(O,"class","grid grid-cols-7 gap-1"),c(o,"class","premium-card p-4 w-full max-w-[320px] mx-auto"),c(n,"class","p-4"),c(e,"class","fixed inset-0 bg-white/80 backdrop-blur-md z-50")},m(F,R){x(F,e,R),f(e,n),f(n,r),f(r,i),f(r,s),f(r,l),f(n,a),f(n,o),f(o,u),f(u,d),f(u,h),f(u,g),f(g,w),f(u,v),f(u,k),f(k,M),f(M,p),f(o,L),f(o,C);for(let N=0;N<b.length;N+=1)b[N]&&b[N].m(C,null);f(o,y),f(o,O);for(let N=0;N<P.length;N+=1)P[N]&&P[N].m(O,null);f(O,B);for(let N=0;N<Q.length;N+=1)Q[N]&&Q[N].m(O,null);D||(S=[Y(i,"click",t[12]),Y(d,"click",t[9]),Y(k,"click",t[8])],D=!0)},p(F,R){if(R[0]&4&&_!==(_=me(F[2],"MMMM yyyy")+"")&&ee(w,_),R[0]&8&&I!==(I=!F[3])&&(k.disabled=I),R[0]&32){W=X(F[5]);let N;for(N=0;N<W.length;N+=1){const z=Yt(F,W,N);b[N]?b[N].p(z,R):(b[N]=Ut(z),b[N].c(),b[N].m(C,null))}for(;N<b.length;N+=1)b[N].d(1);b.length=W.length}if(R[0]&4){T=X(Array.from({length:new Date(F[2].getFullYear(),F[2].getMonth(),1).getDay()},Vt));let N;for(N=0;N<T.length;N+=1){const z=Wt(F,T,N);P[N]?P[N].p(z,R):(P[N]=zt(),P[N].c(),P[N].m(O,B))}for(;N<P.length;N+=1)P[N].d(1);P.length=T.length}if(R[0]&1221){q=X(F[6]);let N;for(N=0;N<q.length;N+=1){const z=Rt(F,q,N);Q[N]?Q[N].p(z,R):(Q[N]=Xt(z),Q[N].c(),Q[N].m(O,null))}for(;N<Q.length;N+=1)Q[N].d(1);Q.length=q.length}},d(F){F&&A(e),se(b,F),se(P,F),se(Q,F),D=!1,oe(S)}}}function Ht(t){let e,n=t[17]+"",r,i;return{c(){e=m("div"),r=Z(n),i=E(),c(e,"class","h-8 flex items-center justify-center text-xs font-medium text-surface-500")},m(s,l){x(s,e,l),f(e,r),f(e,i)},p(s,l){l[0]&32&&n!==(n=s[17]+"")&&ee(r,n)},d(s){s&&A(e)}}}function qt(t){let e;return{c(){e=m("div"),c(e,"class","h-8")},m(n,r){x(n,e,r)},p:H,d(n){n&&A(e)}}}function Gt(t){let e,n=me(t[17],"d")+"",r,i,s,l,a,o;function u(){return t[14](t[17])}return{c(){e=m("button"),r=Z(n),i=E(),c(e,"class",s="h-8 w-8 rounded-lg flex items-center justify-center text-sm transition-colors "+(st(t[17],t[0])?"bg-primary-600 text-white":at(t[17],t[2])?t[18]?"text-surface-300 cursor-not-allowed":"text-surface-900 hover:bg-primary-50":"text-surface-400")),e.disabled=l=t[18]},m(d,h){x(d,e,h),f(e,r),f(e,i),a||(o=Y(e,"click",u),a=!0)},p(d,h){t=d,h[0]&64&&n!==(n=me(t[17],"d")+"")&&ee(r,n),h[0]&69&&s!==(s="h-8 w-8 rounded-lg flex items-center justify-center text-sm transition-colors "+(st(t[17],t[0])?"bg-primary-600 text-white":at(t[17],t[2])?t[18]?"text-surface-300 cursor-not-allowed":"text-surface-900 hover:bg-primary-50":"text-surface-400"))&&c(e,"class",s),h[0]&64&&l!==(l=t[18])&&(e.disabled=l)},d(d){d&&A(e),a=!1,o()}}}function Ut(t){let e,n=t[17]+"",r,i;return{c(){e=m("div"),r=Z(n),i=E(),c(e,"class","h-8 flex items-center justify-center text-xs font-medium text-surface-500")},m(s,l){x(s,e,l),f(e,r),f(e,i)},p(s,l){l[0]&32&&n!==(n=s[17]+"")&&ee(r,n)},d(s){s&&A(e)}}}function zt(t){let e;return{c(){e=m("div"),c(e,"class","h-8")},m(n,r){x(n,e,r)},p:H,d(n){n&&A(e)}}}function Xt(t){let e,n=me(t[17],"d")+"",r,i,s,l,a,o;function u(){return t[13](t[17])}return{c(){e=m("button"),r=Z(n),i=E(),c(e,"class",s="h-8 w-8 rounded-lg flex items-center justify-center text-sm transition-colors "+(st(t[17],t[0])?"bg-primary-600 text-white":at(t[17],t[2])?t[18]?"text-surface-300 cursor-not-allowed":"text-surface-900 hover:bg-primary-50":"text-surface-400")),e.disabled=l=t[18]},m(d,h){x(d,e,h),f(e,r),f(e,i),a||(o=Y(e,"click",u),a=!0)},p(d,h){t=d,h[0]&64&&n!==(n=me(t[17],"d")+"")&&ee(r,n),h[0]&69&&s!==(s="h-8 w-8 rounded-lg flex items-center justify-center text-sm transition-colors "+(st(t[17],t[0])?"bg-primary-600 text-white":at(t[17],t[2])?t[18]?"text-surface-300 cursor-not-allowed":"text-surface-900 hover:bg-primary-50":"text-surface-400"))&&c(e,"class",s),h[0]&64&&l!==(l=t[18])&&(e.disabled=l)},d(d){d&&A(e),a=!1,o()}}}function Ci(t){let e,n,r,i=t[1]&&jt(t);return{c(){e=m("div"),i&&i.c(),c(e,"class","calendar-container relative inline-block")},m(s,l){x(s,e,l),i&&i.m(e,null),n||(r=Y(Oi,"click",t[11]),n=!0)},p(s,l){s[1]?i?i.p(s,l):(i=jt(s),i.c(),i.m(e,null)):i&&(i.d(1),i=null)},i:H,o:H,d(s){s&&A(e),i&&i.d(),n=!1,r()}}}const Vt=(t,e)=>e,Qt=(t,e)=>e;function Pi(t,e,n){let r,i,s,l,{selectedDate:a=ot()}=e,{isOpen:o=!1}=e;const u=ze();let d=a;const h=ot();function g(L){const C=Ct(L),y=In(L);return kr({start:C,end:y})}function _(){s&&n(2,d=wt(d,1))}function w(){n(2,d=yi(d,1))}function v(L){lt(L,h)||(n(0,a=L),u("select",L),n(1,o=!1))}function k(L){L.target.closest(".calendar-container")||n(1,o=!1)}const M=()=>n(1,o=!1),p=L=>v(L),I=L=>v(L);return t.$$set=L=>{"selectedDate"in L&&n(0,a=L.selectedDate),"isOpen"in L&&n(1,o=L.isOpen)},t.$$.update=()=>{t.$$.dirty[0]&4&&n(6,r=g(d)),t.$$.dirty[0]&4&&n(3,s=!lt(Ct(wt(d,1)),h))},n(5,i=["Su","Mo","Tu","We","Th","Fr","Sa"]),n(4,l=window.innerWidth<768),[a,o,d,s,l,i,r,h,_,w,v,k,M,p,I]}class Ei extends he{constructor(e){super(),de(this,e,Pi,Ci,fe,{selectedDate:0,isOpen:1},null,[-1,-1])}}function Ai(t){let e,n,r,i,s,l,a,o,u;function d(_){t[4](_)}function h(_){t[5](_)}let g={};return t[0]!==void 0&&(g.selectedDate=t[0]),t[1]!==void 0&&(g.isOpen=t[1]),i=new Ei({props:g}),Te.push(()=>nt(i,"selectedDate",d)),Te.push(()=>nt(i,"isOpen",h)),i.$on("select",t[3]),{c(){e=m("div"),n=m("button"),n.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"></path></svg>',r=E(),ce(i.$$.fragment),c(n,"class","premium-icon-button h-10 w-10 flex items-center justify-center"),c(n,"aria-label","Calendar"),c(e,"class","relative flex items-center")},m(_,w){x(_,e,w),f(e,n),f(e,r),le(i,e,null),a=!0,o||(u=Y(n,"click",t[2]),o=!0)},p(_,[w]){const v={};!s&&w&1&&(s=!0,v.selectedDate=_[0],tt(()=>s=!1)),!l&&w&2&&(l=!0,v.isOpen=_[1],tt(()=>l=!1)),i.$set(v)},i(_){a||(U(i.$$.fragment,_),a=!0)},o(_){J(i.$$.fragment,_),a=!1},d(_){_&&A(e),ae(i),o=!1,u()}}}function xi(t,e,n){const r=ze();let{selectedDate:i=new Date}=e,s=!1;function l(d){d.stopPropagation(),n(1,s=!s)}function a(d){n(0,i=d.detail),r("select",i)}function o(d){i=d,n(0,i)}function u(d){s=d,n(1,s)}return t.$$set=d=>{"selectedDate"in d&&n(0,i=d.selectedDate)},[i,s,l,a,o,u]}class Kt extends he{constructor(e){super(),de(this,e,xi,Ai,fe,{selectedDate:0})}}function Li(t){let e,n,r,i,s,l,a,o,u,d,h,g,_,w,v;function k(O,B){return O[1]?Ni:Ii}let M=k(t),p=M(t);function I(O,B){return O[3]==="grid"?Ri:Bi}let L=I(t),C=L(t),y=t[4]&&Jt(t);return{c(){e=m("div"),n=m("div"),r=m("button"),p.c(),s=E(),l=m("button"),C.c(),o=E(),u=m("form"),d=m("input"),h=E(),g=m("div"),g.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-surface-400" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path></svg>',_=E(),y&&y.c(),c(r,"class","premium-icon-button"),c(r,"aria-label",i=t[1]?"Show all articles":"Show favorites"),c(l,"class","premium-icon-button"),c(l,"aria-label",a=t[3]==="grid"?"Switch to list view":"Switch to grid view"),c(n,"class","flex items-center space-x-2"),c(d,"type","text"),c(d,"placeholder","Search articles..."),c(d,"class","premium-input pl-11 pr-10"),c(g,"class","absolute inset-y-0 left-3 flex items-center pointer-events-none"),c(u,"class","relative flex-1"),c(e,"class","flex items-center space-x-4")},m(O,B){x(O,e,B),f(e,n),f(n,r),p.m(r,null),f(n,s),f(n,l),C.m(l,null),f(e,o),f(e,u),f(u,d),et(d,t[4]),f(u,h),f(u,g),f(u,_),y&&y.m(u,null),w||(v=[Y(r,"click",t[11]),Y(l,"click",t[12]),Y(d,"input",t[13]),Y(d,"input",t[7]),Y(u,"submit",En(t[6]))],w=!0)},p(O,B){M!==(M=k(O))&&(p.d(1),p=M(O),p&&(p.c(),p.m(r,null))),B&2&&i!==(i=O[1]?"Show all articles":"Show favorites")&&c(r,"aria-label",i),L!==(L=I(O))&&(C.d(1),C=L(O),C&&(C.c(),C.m(l,null))),B&8&&a!==(a=O[3]==="grid"?"Switch to list view":"Switch to grid view")&&c(l,"aria-label",a),B&16&&d.value!==O[4]&&et(d,O[4]),O[4]?y?y.p(O,B):(y=Jt(O),y.c(),y.m(u,null)):y&&(y.d(1),y=null)},d(O){O&&A(e),p.d(),C.d(),y&&y.d(),w=!1,oe(v)}}}function Fi(t){let e,n,r,i,s,l,a,o,u,d,h=t[4]&&Zt(t);return{c(){e=m("div"),n=m("div"),r=m("div"),i=m("button"),i.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>',s=E(),l=m("form"),a=m("input"),o=E(),h&&h.c(),c(i,"class","premium-icon-button"),c(a,"type","text"),c(a,"placeholder","Search articles..."),c(a,"class","premium-input pr-10"),a.autofocus=!0,c(l,"class","flex-1 relative"),c(r,"class","flex items-center space-x-4"),c(n,"class","p-4"),c(e,"class","fixed inset-0 bg-white/80 backdrop-blur-md z-50")},m(g,_){x(g,e,_),f(e,n),f(n,r),f(r,i),f(r,s),f(r,l),f(l,a),et(a,t[4]),f(l,o),h&&h.m(l,null),a.focus(),u||(d=[Y(i,"click",t[9]),Y(a,"input",t[10]),Y(a,"input",t[7]),Y(l,"submit",En(t[6]))],u=!0)},p(g,_){_&16&&a.value!==g[4]&&et(a,g[4]),g[4]?h?h.p(g,_):(h=Zt(g),h.c(),h.m(l,null)):h&&(h.d(1),h=null)},d(g){g&&A(e),h&&h.d(),u=!1,oe(d)}}}function Ni(t){let e,n;return{c(){e=K("svg"),n=K("path"),c(n,"stroke-linecap","round"),c(n,"stroke-linejoin","round"),c(n,"stroke-width","2"),c(n,"d","M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"),c(e,"xmlns","http://www.w3.org/2000/svg"),c(e,"class","h-5 w-5"),c(e,"fill","currentColor"),c(e,"viewBox","0 0 24 24"),c(e,"stroke","currentColor")},m(r,i){x(r,e,i),f(e,n)},d(r){r&&A(e)}}}function Ii(t){let e,n;return{c(){e=K("svg"),n=K("path"),c(n,"stroke-linecap","round"),c(n,"stroke-linejoin","round"),c(n,"stroke-width","2"),c(n,"d","M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"),c(e,"xmlns","http://www.w3.org/2000/svg"),c(e,"class","h-5 w-5"),c(e,"fill","none"),c(e,"viewBox","0 0 24 24"),c(e,"stroke","currentColor")},m(r,i){x(r,e,i),f(e,n)},d(r){r&&A(e)}}}function Bi(t){let e,n;return{c(){e=K("svg"),n=K("path"),c(n,"stroke-linecap","round"),c(n,"stroke-linejoin","round"),c(n,"stroke-width","2"),c(n,"d","M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"),c(e,"xmlns","http://www.w3.org/2000/svg"),c(e,"class","h-5 w-5"),c(e,"fill","none"),c(e,"viewBox","0 0 24 24"),c(e,"stroke","currentColor")},m(r,i){x(r,e,i),f(e,n)},d(r){r&&A(e)}}}function Ri(t){let e,n;return{c(){e=K("svg"),n=K("path"),c(n,"stroke-linecap","round"),c(n,"stroke-linejoin","round"),c(n,"stroke-width","2"),c(n,"d","M4 6h16M4 10h16M4 14h16M4 18h16"),c(e,"xmlns","http://www.w3.org/2000/svg"),c(e,"class","h-5 w-5"),c(e,"fill","none"),c(e,"viewBox","0 0 24 24"),c(e,"stroke","currentColor")},m(r,i){x(r,e,i),f(e,n)},d(r){r&&A(e)}}}function Jt(t){let e,n,r;return{c(){e=m("button"),e.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>',c(e,"type","button"),c(e,"class","absolute right-3 top-1/2 -translate-y-1/2 premium-icon-button !p-1")},m(i,s){x(i,e,s),n||(r=Y(e,"click",t[8]),n=!0)},p:H,d(i){i&&A(e),n=!1,r()}}}function Zt(t){let e,n,r;return{c(){e=m("button"),e.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>',c(e,"type","button"),c(e,"class","absolute right-3 top-1/2 -translate-y-1/2 premium-icon-button !p-1")},m(i,s){x(i,e,s),n||(r=Y(e,"click",t[8]),n=!0)},p:H,d(i){i&&A(e),n=!1,r()}}}function Wi(t){let e;function n(s,l){if(s[2]&&s[0])return Fi;if(!s[2])return Li}let r=n(t),i=r&&r(t);return{c(){i&&i.c(),e=Ie()},m(s,l){i&&i.m(s,l),x(s,e,l)},p(s,[l]){r===(r=n(s))&&i?i.p(s,l):(i&&i.d(1),i=r&&r(s),i&&(i.c(),i.m(e.parentNode,e)))},i:H,o:H,d(s){s&&A(e),i&&i.d(s)}}}function Yi(t,e,n){let r;be(t,Se,p=>n(14,r=p));let{isSearchOpen:i=!1}=e,{showFavorites:s=!1}=e,{isMobile:l=!1}=e,{viewMode:a="grid"}=e;const o=ze();let u=r;function d(){Se.set(u),o("search",u),l&&n(0,i=!1)}function h(){Se.set(u),o("search",u)}function g(){n(4,u=""),Se.set(""),o("search","")}const _=()=>n(0,i=!1);function w(){u=this.value,n(4,u)}const v=()=>o("toggleFavorites"),k=()=>o("viewChange",a==="grid"?"list":"grid");function M(){u=this.value,n(4,u)}return t.$$set=p=>{"isSearchOpen"in p&&n(0,i=p.isSearchOpen),"showFavorites"in p&&n(1,s=p.showFavorites),"isMobile"in p&&n(2,l=p.isMobile),"viewMode"in p&&n(3,a=p.viewMode)},[i,s,l,a,u,o,d,h,g,_,w,v,k,M]}class Yn extends he{constructor(e){super(),de(this,e,Yi,Wi,fe,{isSearchOpen:0,showFavorites:1,isMobile:2,viewMode:3})}}function ji(t){let e,n;return{c(){e=K("svg"),n=K("path"),c(n,"stroke-linecap","round"),c(n,"stroke-linejoin","round"),c(n,"stroke-width","2"),c(n,"d","M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"),c(e,"xmlns","http://www.w3.org/2000/svg"),c(e,"class","h-5 w-5"),c(e,"fill","currentColor"),c(e,"viewBox","0 0 24 24"),c(e,"stroke","currentColor")},m(r,i){x(r,e,i),f(e,n)},d(r){r&&A(e)}}}function Hi(t){let e,n;return{c(){e=K("svg"),n=K("path"),c(n,"stroke-linecap","round"),c(n,"stroke-linejoin","round"),c(n,"stroke-width","2"),c(n,"d","M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"),c(e,"xmlns","http://www.w3.org/2000/svg"),c(e,"class","h-5 w-5"),c(e,"fill","none"),c(e,"viewBox","0 0 24 24"),c(e,"stroke","currentColor")},m(r,i){x(r,e,i),f(e,n)},d(r){r&&A(e)}}}function qi(t){let e,n,r,i,s,l,a,o,u,d,h,g,_,w,v,k,M,p,I,L,C,y,O,B;o=new Kt({props:{selectedDate:t[3]}}),o.$on("select",t[6]);function D(b,T){return b[0]?ji:Hi}let S=D(t),W=S(t);return p=new Kt({props:{selectedDate:t[3]}}),p.$on("select",t[10]),C=new Yn({props:{isSearchOpen:t[2],showFavorites:t[0],viewMode:t[1]}}),C.$on("search",t[11]),C.$on("viewChange",t[12]),C.$on("toggleFavorites",t[13]),{c(){e=m("header"),n=m("div"),r=m("div"),i=m("div"),i.textContent="NewsFlare",s=E(),l=m("div"),a=m("div"),ce(o.$$.fragment),u=E(),d=m("button"),W.c(),g=E(),_=m("button"),_.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path></svg>',w=E(),v=m("button"),v.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M4 6h16M4 12h16m-7 6h7"></path></svg>',k=E(),M=m("div"),ce(p.$$.fragment),I=E(),L=m("div"),ce(C.$$.fragment),c(i,"class","text-2xl font-sarina text-primary-600"),c(a,"class","flex items-center"),c(d,"class","premium-icon-button"),c(d,"aria-label",h=t[0]?"Show all articles":"Show favorites"),c(_,"class","premium-icon-button"),c(v,"class","premium-icon-button sidebar-toggle"),c(l,"class","flex items-center gap-1"),c(r,"class","flex items-center justify-between h-12 md:hidden"),c(L,"class","flex-1"),c(M,"class","hidden md:flex items-center space-x-4"),c(n,"class","max-w-7xl mx-auto px-4 md:px-6 py-2 md:py-3"),c(e,"class","border-b bg-white/80 backdrop-blur-sm fixed top-0 left-0 right-0 z-40 shadow-premium md:pl-64")},m(b,T){x(b,e,T),f(e,n),f(n,r),f(r,i),f(r,s),f(r,l),f(l,a),le(o,a,null),f(l,u),f(l,d),W.m(d,null),f(l,g),f(l,_),f(l,w),f(l,v),f(n,k),f(n,M),le(p,M,null),f(M,I),f(M,L),le(C,L,null),y=!0,O||(B=[Y(d,"click",t[7]),Y(_,"click",t[8]),Y(v,"click",t[9])],O=!0)},p(b,[T]){const P={};T&8&&(P.selectedDate=b[3]),o.$set(P),S!==(S=D(b))&&(W.d(1),W=S(b),W&&(W.c(),W.m(d,null))),(!y||T&1&&h!==(h=b[0]?"Show all articles":"Show favorites"))&&c(d,"aria-label",h);const q={};T&8&&(q.selectedDate=b[3]),p.$set(q);const Q={};T&4&&(Q.isSearchOpen=b[2]),T&1&&(Q.showFavorites=b[0]),T&2&&(Q.viewMode=b[1]),C.$set(Q)},i(b){y||(U(o.$$.fragment,b),U(p.$$.fragment,b),U(C.$$.fragment,b),y=!0)},o(b){J(o.$$.fragment,b),J(p.$$.fragment,b),J(C.$$.fragment,b),y=!1},d(b){b&&A(e),ae(o),W.d(),ae(p),ae(C),O=!1,oe(B)}}}function Gi(t,e,n){let{showFavorites:r=!1}=e,{viewMode:i="list"}=e,{isSearchOpen:s=!1}=e,{isSidebarOpen:l=!1}=e,{displayDate:a=null}=e;const o=ze(),u=M=>o("dateSelect",M.detail),d=()=>o("toggleFavorites"),h=()=>o("toggleSearch"),g=()=>o("toggleSidebar"),_=M=>o("dateSelect",M.detail);function w(M){ft.call(this,t,M)}function v(M){ft.call(this,t,M)}function k(M){ft.call(this,t,M)}return t.$$set=M=>{"showFavorites"in M&&n(0,r=M.showFavorites),"viewMode"in M&&n(1,i=M.viewMode),"isSearchOpen"in M&&n(2,s=M.isSearchOpen),"isSidebarOpen"in M&&n(5,l=M.isSidebarOpen),"displayDate"in M&&n(3,a=M.displayDate)},[r,i,s,a,o,l,u,d,h,g,_,w,v,k]}class Ui extends he{constructor(e){super(),de(this,e,Gi,qi,fe,{showFavorites:0,viewMode:1,isSearchOpen:2,isSidebarOpen:5,displayDate:3})}}function $t(t,e,n){const r=t.slice();return r[27]=e[n].name,r[28]=e[n].count,r}function en(t,e,n){const r=t.slice();return r[27]=e[n].name,r[28]=e[n].count,r}function tn(t,e,n){const r=t.slice();return r[27]=e[n].name,r[28]=e[n].count,r}function nn(t,e,n){const r=t.slice();return r[22]=e[n],r}function zi(t,e,n){const r=t.slice();return r[22]=e[n],r}function rn(t){let e,n,r;return{c(){e=m("div"),c(e,"class","fixed inset-0 bg-black/20 backdrop-blur-sm z-50 md:hidden")},m(i,s){x(i,e,s),n||(r=Y(e,"click",Un(function(){ct(t[1])&&t[1].apply(this,arguments)})),n=!0)},p(i,s){t=i},d(i){i&&A(e),n=!1,r()}}}function Xi(t){let e,n,r,i,s,l,a,o,u,d,h,g,_,w,v,k,M,p=t[2].authors.length>0&&sn(t);function I(P,q){return P[7].length>0?Ki:Qi}let L=I(t),C=L(t),y=t[2].topics.length>0&&on(t);function O(P,q){return P[6].length>0?Zi:Ji}let B=O(t),D=B(t),S=t[2].publications.length>0&&fn(t);function W(P,q){return P[5].length>0?es:$i}let b=W(t),T=b(t);return{c(){e=m("div"),n=m("div"),r=m("div"),r.innerHTML='<svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"></path></svg> <h3 class="font-medium">Authors</h3>',i=E(),p&&p.c(),s=E(),C.c(),l=E(),a=m("div"),o=m("div"),u=m("div"),u.innerHTML='<svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"></path></svg> <h3 class="font-medium">Topics</h3>',d=E(),y&&y.c(),h=E(),D.c(),g=E(),_=m("div"),w=m("div"),v=m("div"),v.innerHTML='<svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 20H5a2 2 0 01-2-2V6a2 2 0 012-2h10a2 2 0 012 2v1m2 13a2 2 0 01-2-2V7m2 13a2 2 0 002-2V9.5a2.5 2.5 0 00-2.5-2.5H15"></path></svg> <h3 class="font-medium">Publications</h3>',k=E(),S&&S.c(),M=E(),T.c(),c(r,"class","flex items-center space-x-2 text-surface-900"),c(n,"class","flex items-center justify-between mb-4"),c(e,"class","mb-8"),c(u,"class","flex items-center space-x-2 text-surface-900"),c(o,"class","flex items-center justify-between mb-4"),c(a,"class","mb-8"),c(v,"class","flex items-center space-x-2 text-surface-900"),c(w,"class","flex items-center justify-between mb-4"),c(_,"class","mb-8")},m(P,q){x(P,e,q),f(e,n),f(n,r),f(n,i),p&&p.m(n,null),f(e,s),C.m(e,null),x(P,l,q),x(P,a,q),f(a,o),f(o,u),f(o,d),y&&y.m(o,null),f(a,h),D.m(a,null),x(P,g,q),x(P,_,q),f(_,w),f(w,v),f(w,k),S&&S.m(w,null),f(_,M),T.m(_,null)},p(P,q){P[2].authors.length>0?p||(p=sn(P),p.c(),p.m(n,null)):p&&(p.d(1),p=null),L===(L=I(P))&&C?C.p(P,q):(C.d(1),C=L(P),C&&(C.c(),C.m(e,null))),P[2].topics.length>0?y||(y=on(P),y.c(),y.m(o,null)):y&&(y.d(1),y=null),B===(B=O(P))&&D?D.p(P,q):(D.d(1),D=B(P),D&&(D.c(),D.m(a,null))),P[2].publications.length>0?S||(S=fn(P),S.c(),S.m(w,null)):S&&(S.d(1),S=null),b===(b=W(P))&&T?T.p(P,q):(T.d(1),T=b(P),T&&(T.c(),T.m(_,null)))},d(P){P&&(A(e),A(l),A(a),A(g),A(_)),p&&p.d(),C.d(),y&&y.d(),D.d(),S&&S.d(),T.d()}}}function Vi(t){let e,n=X(Array(3)),r=[];for(let i=0;i<n.length;i+=1)r[i]=mn(nn(t,n,i));return{c(){for(let i=0;i<r.length;i+=1)r[i].c();e=Ie()},m(i,s){for(let l=0;l<r.length;l+=1)r[l]&&r[l].m(i,s);x(i,e,s)},p(i,s){if(s&0){n=X(Array(3));let l;for(l=0;l<n.length;l+=1){const a=nn(i,n,l);r[l]?r[l].p(a,s):(r[l]=mn(a),r[l].c(),r[l].m(e.parentNode,e))}for(;l<r.length;l+=1)r[l].d(1);r.length=n.length}},d(i){i&&A(e),se(r,i)}}}function sn(t){let e,n,r;return{c(){e=m("button"),e.textContent="Clear",c(e,"class","text-xs text-primary-600 hover:text-primary-700 font-medium")},m(i,s){x(i,e,s),n||(r=Y(e,"click",t[13]),n=!0)},d(i){i&&A(e),n=!1,r()}}}function Qi(t){let e;return{c(){e=m("p"),e.textContent="No authors available",c(e,"class","text-sm text-surface-500 ml-7 py-2")},m(n,r){x(n,e,r)},p:H,d(n){n&&A(e)}}}function Ki(t){let e,n,r=X(Ne(t[7],!!t[3].Authors)),i=[];for(let l=0;l<r.length;l+=1)i[l]=ln(tn(t,r,l));let s=t[7].length>5&&an(t);return{c(){e=m("ul");for(let l=0;l<i.length;l+=1)i[l].c();n=E(),s&&s.c(),c(e,"class","space-y-2 ml-7")},m(l,a){x(l,e,a);for(let o=0;o<i.length;o+=1)i[o]&&i[o].m(e,null);f(e,n),s&&s.m(e,null)},p(l,a){if(a[0]&1672){r=X(Ne(l[7],!!l[3].Authors));let o;for(o=0;o<r.length;o+=1){const u=tn(l,r,o);i[o]?i[o].p(u,a):(i[o]=ln(u),i[o].c(),i[o].m(e,n))}for(;o<i.length;o+=1)i[o].d(1);i.length=r.length}l[7].length>5?s?s.p(l,a):(s=an(l),s.c(),s.m(e,null)):s&&(s.d(1),s=null)},d(l){l&&A(e),se(i,l),s&&s.d()}}}function ln(t){let e,n,r,i=t[27]+"",s,l,a,o=t[28]+"",u,d,h,g,_;function w(){return t[14](t[27])}return{c(){e=m("li"),n=m("button"),r=m("span"),s=Z(i),l=E(),a=m("span"),u=Z(o),c(a,"class",d="px-2 py-0.5 rounded-full text-xs "+(t[10]("authors",t[27])?"bg-white/20 text-white":"bg-surface-100 text-surface-600 group-hover:bg-primary-100 group-hover:text-primary-700")),c(n,"class",h="w-full flex items-center justify-between py-2 px-3 text-sm rounded-lg transition-colors group "+(t[10]("authors",t[27])?"bg-primary-600 text-white":"text-surface-600 hover:bg-surface-50 hover:text-primary-600"))},m(v,k){x(v,e,k),f(e,n),f(n,r),f(r,s),f(n,l),f(n,a),f(a,u),g||(_=Y(n,"click",w),g=!0)},p(v,k){t=v,k[0]&136&&i!==(i=t[27]+"")&&ee(s,i),k[0]&136&&o!==(o=t[28]+"")&&ee(u,o),k[0]&136&&d!==(d="px-2 py-0.5 rounded-full text-xs "+(t[10]("authors",t[27])?"bg-white/20 text-white":"bg-surface-100 text-surface-600 group-hover:bg-primary-100 group-hover:text-primary-700"))&&c(a,"class",d),k[0]&136&&h!==(h="w-full flex items-center justify-between py-2 px-3 text-sm rounded-lg transition-colors group "+(t[10]("authors",t[27])?"bg-primary-600 text-white":"text-surface-600 hover:bg-surface-50 hover:text-primary-600"))&&c(n,"class",h)},d(v){v&&A(e),g=!1,_()}}}function an(t){let e,n,r=t[3].Authors?"Show less":"Show more",i,s,l;return{c(){e=m("li"),n=m("button"),i=Z(r),c(n,"class","py-2 px-3 text-sm font-medium text-primary-600 hover:text-primary-700 transition-colors")},m(a,o){x(a,e,o),f(e,n),f(n,i),s||(l=Y(n,"click",t[15]),s=!0)},p(a,o){o[0]&8&&r!==(r=a[3].Authors?"Show less":"Show more")&&ee(i,r)},d(a){a&&A(e),s=!1,l()}}}function on(t){let e,n,r;return{c(){e=m("button"),e.textContent="Clear",c(e,"class","text-xs text-primary-600 hover:text-primary-700 font-medium")},m(i,s){x(i,e,s),n||(r=Y(e,"click",t[16]),n=!0)},d(i){i&&A(e),n=!1,r()}}}function Ji(t){let e;return{c(){e=m("p"),e.textContent="No topics available",c(e,"class","text-sm text-surface-500 ml-7 py-2")},m(n,r){x(n,e,r)},p:H,d(n){n&&A(e)}}}function Zi(t){let e,n,r=X(Ne(t[6],!!t[3].Topics)),i=[];for(let l=0;l<r.length;l+=1)i[l]=cn(en(t,r,l));let s=t[6].length>5&&un(t);return{c(){e=m("ul");for(let l=0;l<i.length;l+=1)i[l].c();n=E(),s&&s.c(),c(e,"class","space-y-2 ml-7")},m(l,a){x(l,e,a);for(let o=0;o<i.length;o+=1)i[o]&&i[o].m(e,null);f(e,n),s&&s.m(e,null)},p(l,a){if(a[0]&1608){r=X(Ne(l[6],!!l[3].Topics));let o;for(o=0;o<r.length;o+=1){const u=en(l,r,o);i[o]?i[o].p(u,a):(i[o]=cn(u),i[o].c(),i[o].m(e,n))}for(;o<i.length;o+=1)i[o].d(1);i.length=r.length}l[6].length>5?s?s.p(l,a):(s=un(l),s.c(),s.m(e,null)):s&&(s.d(1),s=null)},d(l){l&&A(e),se(i,l),s&&s.d()}}}function cn(t){let e,n,r,i=t[27]+"",s,l,a,o=t[28]+"",u,d,h,g,_;function w(){return t[17](t[27])}return{c(){e=m("li"),n=m("button"),r=m("span"),s=Z(i),l=E(),a=m("span"),u=Z(o),c(a,"class",d="px-2 py-0.5 rounded-full text-xs "+(t[10]("topics",t[27])?"bg-white/20 text-white":"bg-surface-100 text-surface-600 group-hover:bg-primary-100 group-hover:text-primary-700")),c(n,"class",h="w-full flex items-center justify-between py-2 px-3 text-sm rounded-lg transition-colors group "+(t[10]("topics",t[27])?"bg-primary-600 text-white":"text-surface-600 hover:bg-surface-50 hover:text-primary-600"))},m(v,k){x(v,e,k),f(e,n),f(n,r),f(r,s),f(n,l),f(n,a),f(a,u),g||(_=Y(n,"click",w),g=!0)},p(v,k){t=v,k[0]&72&&i!==(i=t[27]+"")&&ee(s,i),k[0]&72&&o!==(o=t[28]+"")&&ee(u,o),k[0]&72&&d!==(d="px-2 py-0.5 rounded-full text-xs "+(t[10]("topics",t[27])?"bg-white/20 text-white":"bg-surface-100 text-surface-600 group-hover:bg-primary-100 group-hover:text-primary-700"))&&c(a,"class",d),k[0]&72&&h!==(h="w-full flex items-center justify-between py-2 px-3 text-sm rounded-lg transition-colors group "+(t[10]("topics",t[27])?"bg-primary-600 text-white":"text-surface-600 hover:bg-surface-50 hover:text-primary-600"))&&c(n,"class",h)},d(v){v&&A(e),g=!1,_()}}}function un(t){let e,n,r=t[3].Topics?"Show less":"Show more",i,s,l;return{c(){e=m("li"),n=m("button"),i=Z(r),c(n,"class","py-2 px-3 text-sm font-medium text-primary-600 hover:text-primary-700 transition-colors")},m(a,o){x(a,e,o),f(e,n),f(n,i),s||(l=Y(n,"click",t[18]),s=!0)},p(a,o){o[0]&8&&r!==(r=a[3].Topics?"Show less":"Show more")&&ee(i,r)},d(a){a&&A(e),s=!1,l()}}}function fn(t){let e,n,r;return{c(){e=m("button"),e.textContent="Clear",c(e,"class","text-xs text-primary-600 hover:text-primary-700 font-medium")},m(i,s){x(i,e,s),n||(r=Y(e,"click",t[19]),n=!0)},d(i){i&&A(e),n=!1,r()}}}function $i(t){let e;return{c(){e=m("p"),e.textContent="No publications available",c(e,"class","text-sm text-surface-500 ml-7 py-2")},m(n,r){x(n,e,r)},p:H,d(n){n&&A(e)}}}function es(t){let e,n,r=X(Ne(t[5],!!t[3].Publications)),i=[];for(let l=0;l<r.length;l+=1)i[l]=dn($t(t,r,l));let s=t[5].length>5&&hn(t);return{c(){e=m("ul");for(let l=0;l<i.length;l+=1)i[l].c();n=E(),s&&s.c(),c(e,"class","space-y-2 ml-7")},m(l,a){x(l,e,a);for(let o=0;o<i.length;o+=1)i[o]&&i[o].m(e,null);f(e,n),s&&s.m(e,null)},p(l,a){if(a[0]&1576){r=X(Ne(l[5],!!l[3].Publications));let o;for(o=0;o<r.length;o+=1){const u=$t(l,r,o);i[o]?i[o].p(u,a):(i[o]=dn(u),i[o].c(),i[o].m(e,n))}for(;o<i.length;o+=1)i[o].d(1);i.length=r.length}l[5].length>5?s?s.p(l,a):(s=hn(l),s.c(),s.m(e,null)):s&&(s.d(1),s=null)},d(l){l&&A(e),se(i,l),s&&s.d()}}}function dn(t){let e,n,r,i=t[27]+"",s,l,a,o=t[28]+"",u,d,h,g,_;function w(){return t[20](t[27])}return{c(){e=m("li"),n=m("button"),r=m("span"),s=Z(i),l=E(),a=m("span"),u=Z(o),c(a,"class",d="px-2 py-0.5 rounded-full text-xs "+(t[10]("publications",t[27])?"bg-white/20 text-white":"bg-surface-100 text-surface-600 group-hover:bg-primary-100 group-hover:text-primary-700")),c(n,"class",h="w-full flex items-center justify-between py-2 px-3 text-sm rounded-lg transition-colors group "+(t[10]("publications",t[27])?"bg-primary-600 text-white":"text-surface-600 hover:bg-surface-50 hover:text-primary-600"))},m(v,k){x(v,e,k),f(e,n),f(n,r),f(r,s),f(n,l),f(n,a),f(a,u),g||(_=Y(n,"click",w),g=!0)},p(v,k){t=v,k[0]&40&&i!==(i=t[27]+"")&&ee(s,i),k[0]&40&&o!==(o=t[28]+"")&&ee(u,o),k[0]&40&&d!==(d="px-2 py-0.5 rounded-full text-xs "+(t[10]("publications",t[27])?"bg-white/20 text-white":"bg-surface-100 text-surface-600 group-hover:bg-primary-100 group-hover:text-primary-700"))&&c(a,"class",d),k[0]&40&&h!==(h="w-full flex items-center justify-between py-2 px-3 text-sm rounded-lg transition-colors group "+(t[10]("publications",t[27])?"bg-primary-600 text-white":"text-surface-600 hover:bg-surface-50 hover:text-primary-600"))&&c(n,"class",h)},d(v){v&&A(e),g=!1,_()}}}function hn(t){let e,n,r=t[3].Publications?"Show less":"Show more",i,s,l;return{c(){e=m("li"),n=m("button"),i=Z(r),c(n,"class","py-2 px-3 text-sm font-medium text-primary-600 hover:text-primary-700 transition-colors")},m(a,o){x(a,e,o),f(e,n),f(n,i),s||(l=Y(n,"click",t[21]),s=!0)},p(a,o){o[0]&8&&r!==(r=a[3].Publications?"Show less":"Show more")&&ee(i,r)},d(a){a&&A(e),s=!1,l()}}}function ts(t){let e;return{c(){e=m("li"),e.innerHTML='<div class="h-8 w-full bg-surface-200 rounded animate-pulse"></div> '},m(n,r){x(n,e,r)},p:H,d(n){n&&A(e)}}}function mn(t){let e,n,r,i,s,l=X(Array(5)),a=[];for(let o=0;o<l.length;o+=1)a[o]=ts(zi(t,l,o));return{c(){e=m("div"),n=m("div"),n.innerHTML='<div class="w-5 h-5 bg-surface-200 rounded animate-pulse"></div> <div class="h-4 w-24 bg-surface-200 rounded animate-pulse"></div>',r=E(),i=m("ul");for(let o=0;o<a.length;o+=1)a[o].c();s=E(),c(n,"class","flex items-center space-x-2 mb-4"),c(i,"class","space-y-2 ml-7"),c(e,"class","mb-8")},m(o,u){x(o,e,u),f(e,n),f(e,r),f(e,i);for(let d=0;d<a.length;d+=1)a[d]&&a[d].m(i,null);f(e,s)},p:H,d(o){o&&A(e),se(a,o)}}}function ns(t){let e,n,r,i,s,l,a,o,u=t[0]&&rn(t);function d(_,w){return _[4]?Vi:Xi}let h=d(t),g=h(t);return{c(){u&&u.c(),e=E(),n=m("aside"),r=m("div"),r.innerHTML='<span class="text-3xl font-sarina text-primary-600 hover:text-primary-700 transition-colors cursor-pointer">NewsFlare</span>',i=E(),s=m("nav"),g.c(),l=E(),a=m("div"),a.innerHTML='<div class="flex flex-wrap gap-x-4 gap-y-2 text-sm text-surface-500"><a href="/" class="hover:text-primary-600 transition-colors">Help</a> <a href="/" class="hover:text-primary-600 transition-colors">License</a></div>',c(r,"class","p-4"),c(a,"class","mt-8 pt-6 border-t border-surface-200"),c(s,"class","p-4"),c(n,"class",o="sidebar fixed top-0 bg-white/80 backdrop-blur-sm overflow-y-auto z-50 h-screen border-r border-surface-200/50 "+(t[0]?"left-0":"-left-64")+" md:left-0 w-64 transition-all duration-300")},m(_,w){u&&u.m(_,w),x(_,e,w),x(_,n,w),f(n,r),f(n,i),f(n,s),g.m(s,null),f(s,l),f(s,a)},p(_,w){_[0]?u?u.p(_,w):(u=rn(_),u.c(),u.m(e.parentNode,e)):u&&(u.d(1),u=null),h===(h=d(_))&&g?g.p(_,w):(g.d(1),g=h(_),g&&(g.c(),g.m(s,l))),w[0]&1&&o!==(o="sidebar fixed top-0 bg-white/80 backdrop-blur-sm overflow-y-auto z-50 h-screen border-r border-surface-200/50 "+(_[0]?"left-0":"-left-64")+" md:left-0 w-64 transition-all duration-300")&&c(n,"class",o)},i:H,o:H,d(_){_&&(A(e),A(n)),u&&u.d(_),g.d()}}}function gn(t){return t.split(" ").map(e=>e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()).join(" ")}function Ne(t,e){return e?t:t.slice(0,5)}function rs(t,e,n){let r,i;be(t,we,D=>n(2,r=D)),be(t,pe,D=>n(12,i=D));let{isOpen:s=!1}=e,{onClose:l=()=>{}}=e,a={},o=!0,u=[],d=[],h=[],g=[];xn(async()=>{try{n(4,o=!1)}catch(D){console.error("Failed to load sidebar sections:",D)}finally{n(4,o=!1)}});function _(D){n(3,a[D]=!a[D],a)}function w(D,S){r[D].includes(S)?we.removeFilter(D,S):we.addFilter(D,S)}function v(D,S){return r[D].includes(S)}const k=()=>we.clearFilterType("authors"),M=D=>w("authors",D),p=()=>_("Authors"),I=()=>we.clearFilterType("topics"),L=D=>w("topics",D),C=()=>_("Topics"),y=()=>we.clearFilterType("publications"),O=D=>w("publications",D),B=()=>_("Publications");return t.$$set=D=>{"isOpen"in D&&n(0,s=D.isOpen),"onClose"in D&&n(1,l=D.onClose)},t.$$.update=()=>{if(t.$$.dirty[0]&4100&&n(11,g=i.filter(D=>{const S=r.authors.length===0||r.authors.every(T=>{var P;return(P=D.item.authors)==null?void 0:P.some(q=>q.name===T)}),W=r.topics.length===0||r.topics.every(T=>{var P;return(P=D.item.categories)==null?void 0:P.includes(T)}),b=r.publications.length===0||r.publications.some(T=>D.item.source===T);return S&&W&&b})),t.$$.dirty[0]&2048){const D=new Map,S=new Map,W=new Map;g.forEach(b=>{if(b.item.source){const T=gn(b.item.source);D.set(T,(D.get(T)||0)+1)}(b.item.categories||[]).forEach(T=>{const P=gn(T);S.set(P,(S.get(P)||0)+1)}),b.item.authors&&b.item.authors.length>0&&b.item.authors.forEach(T=>{T.name&&T.name!=="Unknown Author"&&W.set(T.name,(W.get(T.name)||0)+1)})}),n(5,u=Array.from(D.entries()).map(([b,T])=>({name:b,count:T})).sort((b,T)=>T.count-b.count||b.name.localeCompare(T.name))),n(6,d=Array.from(S.entries()).map(([b,T])=>({name:b,count:T})).sort((b,T)=>T.count-b.count||b.name.localeCompare(T.name))),n(7,h=Array.from(W.entries()).map(([b,T])=>({name:b,count:T})).sort((b,T)=>T.count-b.count||b.name.localeCompare(T.name)))}},[s,l,r,a,o,u,d,h,_,w,v,g,i,k,M,p,I,L,C,y,O,B]}class is extends he{constructor(e){super(),de(this,e,rs,ns,fe,{isOpen:0,onClose:1},null,[-1,-1])}}function ss(t){let e,n,r;return{c(){e=m("span"),n=Z(t[0]),c(e,"class",r="inline-block px-3 py-1 text-xs font-medium rounded-lg transition-colors max-w-[120px] truncate "+(t[1]==="primary"?"bg-primary-100/50 text-primary-700":"bg-surface-100 text-surface-700")+" svelte-k0n9y0")},m(i,s){x(i,e,s),f(e,n)},p(i,[s]){s&1&&ee(n,i[0]),s&2&&r!==(r="inline-block px-3 py-1 text-xs font-medium rounded-lg transition-colors max-w-[120px] truncate "+(i[1]==="primary"?"bg-primary-100/50 text-primary-700":"bg-surface-100 text-surface-700")+" svelte-k0n9y0")&&c(e,"class",r)},i:H,o:H,d(i){i&&A(e)}}}function ls(t,e,n){let{text:r}=e,{variant:i="primary"}=e;return t.$$set=s=>{"text"in s&&n(0,r=s.text),"variant"in s&&n(1,i=s.variant)},[r,i]}class as extends he{constructor(e){super(),de(this,e,ls,ss,fe,{text:0,variant:1})}}function os(){const t=localStorage.getItem(mt.BOOKMARKS),e=t?JSON.parse(t):[],{subscribe:n,update:r}=Xe(e),i=s=>{localStorage.setItem(mt.BOOKMARKS,JSON.stringify(s))};return{subscribe:n,toggleBookmark:s=>{r(l=>{const o=l.some(u=>u.id===s.id)?l.filter(u=>u.id!==s.id):[...l,s];return i(o),o})},isBookmarked:s=>JSON.parse(localStorage.getItem(mt.BOOKMARKS)||"[]").some(a=>a.id===s)}}const vt=os();function bn(t,e,n){const r=t.slice();return r[19]=e[n],r}function _n(t){let e,n;return e=new as({props:{text:t[19].text,variant:t[19].variant}}),{c(){ce(e.$$.fragment)},m(r,i){le(e,r,i),n=!0},p(r,i){const s={};i&16&&(s.text=r[19].text),i&16&&(s.variant=r[19].variant),e.$set(s)},i(r){n||(U(e.$$.fragment,r),n=!0)},o(r){J(e.$$.fragment,r),n=!1},d(r){ae(e,r)}}}function wn(t){let e,n;return{c(){e=m("span"),n=Z(t[5]),c(e,"class","text-xs text-surface-500")},m(r,i){x(r,e,i),f(e,n)},p(r,i){i&32&&ee(n,r[5])},d(r){r&&A(e)}}}function cs(t){let e,n,r,i,s,l,a,o,u,d,h,g,_,w,v,k,M,p,I,L,C,y,O,B,D,S,W,b,T,P,q,Q,F,R,N,z,ve,Be,ge=X(t[4]),j=[];for(let G=0;G<ge.length;G+=1)j[G]=_n(bn(t,ge,G));const te=G=>J(j[G],1,1,()=>{j[G]=null});let ie=t[7]&&wn(t);return{c(){e=m("article"),n=m("div"),r=m("img"),s=E(),l=m("div"),a=E(),o=m("div");for(let G=0;G<j.length;G+=1)j[G].c();u=E(),d=m("button"),h=K("svg"),g=K("path"),v=E(),k=m("div"),M=m("div"),p=m("div"),I=m("span"),L=Z(t[8]),C=E(),ie&&ie.c(),y=E(),O=m("h3"),B=Z(t[2]),D=E(),S=m("p"),W=Z(t[3]),b=E(),T=m("div"),P=K("svg"),q=K("path"),Q=E(),F=m("span"),R=Z(t[9]),Ot(r.src,i=t[1])||c(r,"src",i),c(r,"alt",""),c(r,"class","absolute inset-0 w-full h-full object-cover transform group-hover:scale-105 transition-transform duration-300"),c(l,"class","absolute inset-0 bg-gradient-to-t from-black/20 to-transparent"),c(o,"class","absolute bottom-3 left-3 flex gap-1.5 flex-wrap max-w-[calc(100%-24px)]"),c(g,"stroke-linecap","round"),c(g,"stroke-linejoin","round"),c(g,"d","M17.593 3.322c1.1.128 1.907 1.077 1.907 2.185V21L12 17.25 4.5 21V5.507c0-1.108.806-2.057 1.907-2.185a48.507 48.507 0 0111.186 0z"),c(h,"xmlns","http://www.w3.org/2000/svg"),c(h,"fill",_=t[6]?"currentColor":"none"),c(h,"viewBox","0 0 24 24"),c(h,"stroke-width","1.5"),c(h,"stroke","currentColor"),c(h,"class","w-5 h-5"),c(d,"class","absolute top-3 right-3 p-2 rounded-xl bg-white/90 hover:bg-white text-surface-600 hover:text-primary-600 transition-colors backdrop-blur-sm"),c(n,"class",w="relative "+(t[0]==="list"?"sm:w-[280px]":"pb-[56.25%]")+" overflow-hidden"),c(I,"class","text-sm font-medium text-surface-900"),c(p,"class","flex flex-col"),c(M,"class","flex items-center justify-between mb-4"),c(O,"class","text-xl font-medium mb-3 text-surface-900 group-hover:text-primary-600 transition-colors line-clamp-2"),c(S,"class","text-surface-600 text-sm mb-6 line-clamp-2"),c(q,"stroke-linecap","round"),c(q,"stroke-linejoin","round"),c(q,"d","M12 6v6h4.5m4.5 0a9 9 0 11-18 0 9 9 0 0118 0z"),c(P,"xmlns","http://www.w3.org/2000/svg"),c(P,"fill","none"),c(P,"viewBox","0 0 24 24"),c(P,"stroke-width","1.5"),c(P,"stroke","currentColor"),c(P,"class","w-5 h-5 mr-2"),c(T,"class","flex items-center text-sm text-surface-500"),c(k,"class","flex-1 p-6"),c(e,"class",N="group premium-card overflow-hidden "+(t[0]==="list"?"sm:flex":"")+" cursor-pointer hover:shadow-lg hover:-translate-y-0.5 transition-all duration-300 svelte-10io5xf"),c(e,"tabindex","0"),c(e,"role","article")},m(G,$){x(G,e,$),f(e,n),f(n,r),f(n,s),f(n,l),f(n,a),f(n,o);for(let ne=0;ne<j.length;ne+=1)j[ne]&&j[ne].m(o,null);f(n,u),f(n,d),f(d,h),f(h,g),f(e,v),f(e,k),f(k,M),f(M,p),f(p,I),f(I,L),f(p,C),ie&&ie.m(p,null),f(k,y),f(k,O),f(O,B),f(k,D),f(k,S),f(S,W),f(k,b),f(k,T),f(T,P),f(P,q),f(T,Q),f(T,F),f(F,R),z=!0,ve||(Be=[Y(d,"click",t[11]),Y(e,"click",t[10]),Y(e,"keydown",t[18])],ve=!0)},p(G,[$]){if((!z||$&2&&!Ot(r.src,i=G[1]))&&c(r,"src",i),$&16){ge=X(G[4]);let ne;for(ne=0;ne<ge.length;ne+=1){const Re=bn(G,ge,ne);j[ne]?(j[ne].p(Re,$),U(j[ne],1)):(j[ne]=_n(Re),j[ne].c(),U(j[ne],1),j[ne].m(o,null))}for(Oe(),ne=ge.length;ne<j.length;ne+=1)te(ne);De()}(!z||$&64&&_!==(_=G[6]?"currentColor":"none"))&&c(h,"fill",_),(!z||$&1&&w!==(w="relative "+(G[0]==="list"?"sm:w-[280px]":"pb-[56.25%]")+" overflow-hidden"))&&c(n,"class",w),(!z||$&256)&&ee(L,G[8]),G[7]?ie?ie.p(G,$):(ie=wn(G),ie.c(),ie.m(p,null)):ie&&(ie.d(1),ie=null),(!z||$&4)&&ee(B,G[2]),(!z||$&8)&&ee(W,G[3]),(!z||$&512)&&ee(R,G[9]),(!z||$&1&&N!==(N="group premium-card overflow-hidden "+(G[0]==="list"?"sm:flex":"")+" cursor-pointer hover:shadow-lg hover:-translate-y-0.5 transition-all duration-300 svelte-10io5xf"))&&c(e,"class",N)},i(G){if(!z){for(let $=0;$<ge.length;$+=1)U(j[$]);z=!0}},o(G){j=j.filter(Boolean);for(let $=0;$<j.length;$+=1)J(j[$]);z=!1},d(G){G&&A(e),se(j,G),ie&&ie.d(),ve=!1,oe(Be)}}}function us(t,e,n){let r,i,s,l,a,o;be(t,vt,y=>n(17,o=y));let{viewMode:u}=e,{imageUrl:d}=e,{author:h}=e,{title:g}=e,{description:_}=e,{tags:w}=e,{url:v}=e,{source:k}=e,{published:M}=e,{id:p}=e;function I(){window.open(v,"_blank","noopener,noreferrer")}function L(y){y.stopPropagation();const O={id:p,imageUrl:d,author:h,title:g,description:_,tags:w,url:v,source:k,published:M,hasImage:!!d};vt.toggleBookmark(O)}const C=y=>y.key==="Enter"&&I();return t.$$set=y=>{"viewMode"in y&&n(0,u=y.viewMode),"imageUrl"in y&&n(1,d=y.imageUrl),"author"in y&&n(12,h=y.author),"title"in y&&n(2,g=y.title),"description"in y&&n(3,_=y.description),"tags"in y&&n(4,w=y.tags),"url"in y&&n(13,v=y.url),"source"in y&&n(14,k=y.source),"published"in y&&n(15,M=y.published),"id"in y&&n(16,p=y.id)},t.$$.update=()=>{t.$$.dirty&32768&&n(9,r=ki(new Date(M),{addSuffix:!0})),t.$$.dirty&16384&&n(5,i=k?k.replace(/^www\./i,"").replace(/\.com$/i,""):"Unknown Source"),t.$$.dirty&4128&&n(8,s=h!=="Unknown Author"?h:i),t.$$.dirty&4096&&n(7,l=h!=="Unknown Author"),t.$$.dirty&196608&&n(6,a=o.some(y=>y.id===p))},[u,d,g,_,w,i,a,l,s,r,I,L,h,v,k,M,p,o,C]}class fs extends he{constructor(e){super(),de(this,e,us,cs,fe,{viewMode:0,imageUrl:1,author:12,title:2,description:3,tags:4,url:13,source:14,published:15,id:16})}}function ds(t){let e,n,r,i,s,l,a;return{c(){e=m("div"),n=m("div"),r=m("div"),r.innerHTML='<div class="h-6 w-16 bg-surface-200/80 backdrop-blur-sm rounded-lg"></div> <div class="h-6 w-20 bg-surface-200/80 backdrop-blur-sm rounded-lg"></div>',s=E(),l=m("div"),l.innerHTML='<div class="flex items-center justify-between mb-4"><div class="flex flex-col gap-1.5"><div class="h-4 w-24 bg-surface-200 rounded"></div> <div class="h-3 w-32 bg-surface-200 rounded"></div></div></div> <div class="space-y-2 mb-3"><div class="h-6 w-3/4 bg-surface-200 rounded"></div> <div class="h-6 w-1/2 bg-surface-200 rounded"></div></div> <div class="space-y-2 mb-6"><div class="h-4 w-full bg-surface-200 rounded"></div> <div class="h-4 w-2/3 bg-surface-200 rounded"></div></div> <div class="flex items-center gap-2"><div class="h-5 w-5 bg-surface-200 rounded"></div> <div class="h-4 w-16 bg-surface-200 rounded"></div></div>',c(r,"class","absolute bottom-3 left-3 flex gap-1.5"),c(n,"class",i="relative "+(t[0]==="list"?"sm:w-[280px]":"pb-[56.25%]")+" bg-surface-100"),c(l,"class","flex-1 p-6"),c(e,"class",a="premium-card overflow-hidden "+(t[0]==="list"?"sm:flex":"")+" animate-pulse")},m(o,u){x(o,e,u),f(e,n),f(n,r),f(e,s),f(e,l)},p(o,[u]){u&1&&i!==(i="relative "+(o[0]==="list"?"sm:w-[280px]":"pb-[56.25%]")+" bg-surface-100")&&c(n,"class",i),u&1&&a!==(a="premium-card overflow-hidden "+(o[0]==="list"?"sm:flex":"")+" animate-pulse")&&c(e,"class",a)},i:H,o:H,d(o){o&&A(e)}}}function hs(t,e,n){let{viewMode:r}=e;return t.$$set=i=>{"viewMode"in i&&n(0,r=i.viewMode)},[r]}class ms extends he{constructor(e){super(),de(this,e,hs,ds,fe,{viewMode:0})}}function pn(t,e,n){const r=t.slice();return r[11]=e[n],r}function vn(t,e,n){const r=t.slice();return r[8]=e[n],r}function gs(t){let e=[],n=new Map,r,i,s=X(t[2]);const l=a=>a[11].id;for(let a=0;a<s.length;a+=1){let o=pn(t,s,a),u=l(o);n.set(u,e[a]=kn(u,o))}return{c(){for(let a=0;a<e.length;a+=1)e[a].c();r=Ie()},m(a,o){for(let u=0;u<e.length;u+=1)e[u]&&e[u].m(a,o);x(a,r,o),i=!0},p(a,o){o&12&&(s=X(a[2]),Oe(),e=$n(e,o,l,1,a,s,n,r.parentNode,Zn,kn,r,pn),De())},i(a){if(!i){for(let o=0;o<s.length;o+=1)U(e[o]);i=!0}},o(a){for(let o=0;o<e.length;o+=1)J(e[o]);i=!1},d(a){a&&A(r);for(let o=0;o<e.length;o+=1)e[o].d(a)}}}function bs(t){let e,n,r=(t[1]?Je.GRID_NO_BOOKMARKS:Je.GRID_NO_ARTICLES)+"",i;return{c(){e=m("div"),n=m("p"),i=Z(r),c(n,"class","text-surface-600"),c(e,"class","col-span-full text-center py-12")},m(s,l){x(s,e,l),f(e,n),f(n,i)},p(s,l){l&2&&r!==(r=(s[1]?Je.GRID_NO_BOOKMARKS:Je.GRID_NO_ARTICLES)+"")&&ee(i,r)},i:H,o:H,d(s){s&&A(e)}}}function _s(t){let e,n,r=X(Array(t[3]==="list"?je.ARTICLES_PER_PAGE.LIST:je.ARTICLES_PER_PAGE.GRID)),i=[];for(let l=0;l<r.length;l+=1)i[l]=yn(vn(t,r,l));const s=l=>J(i[l],1,1,()=>{i[l]=null});return{c(){for(let l=0;l<i.length;l+=1)i[l].c();e=Ie()},m(l,a){for(let o=0;o<i.length;o+=1)i[o]&&i[o].m(l,a);x(l,e,a),n=!0},p(l,a){if(a&8){r=X(Array(l[3]==="list"?je.ARTICLES_PER_PAGE.LIST:je.ARTICLES_PER_PAGE.GRID));let o;for(o=0;o<r.length;o+=1){const u=vn(l,r,o);i[o]?(i[o].p(u,a),U(i[o],1)):(i[o]=yn(u),i[o].c(),U(i[o],1),i[o].m(e.parentNode,e))}for(Oe(),o=r.length;o<i.length;o+=1)s(o);De()}},i(l){if(!n){for(let a=0;a<r.length;a+=1)U(i[a]);n=!0}},o(l){i=i.filter(Boolean);for(let a=0;a<i.length;a+=1)J(i[a]);n=!1},d(l){l&&A(e),se(i,l)}}}function kn(t,e){let n,r,i;return r=new fs({props:{viewMode:e[3],id:e[11].id,imageUrl:e[11].imageUrl,author:e[11].author,title:e[11].title,description:e[11].description,tags:e[11].tags,url:e[11].url,published:e[11].published,source:e[11].source}}),{key:t,first:null,c(){n=Ie(),ce(r.$$.fragment),this.first=n},m(s,l){x(s,n,l),le(r,s,l),i=!0},p(s,l){e=s;const a={};l&8&&(a.viewMode=e[3]),l&4&&(a.id=e[11].id),l&4&&(a.imageUrl=e[11].imageUrl),l&4&&(a.author=e[11].author),l&4&&(a.title=e[11].title),l&4&&(a.description=e[11].description),l&4&&(a.tags=e[11].tags),l&4&&(a.url=e[11].url),l&4&&(a.published=e[11].published),l&4&&(a.source=e[11].source),r.$set(a)},i(s){i||(U(r.$$.fragment,s),i=!0)},o(s){J(r.$$.fragment,s),i=!1},d(s){s&&A(n),ae(r,s)}}}function yn(t){let e,n;return e=new ms({props:{viewMode:t[3]}}),{c(){ce(e.$$.fragment)},m(r,i){le(e,r,i),n=!0},p(r,i){const s={};i&8&&(s.viewMode=r[3]),e.$set(s)},i(r){n||(U(e.$$.fragment,r),n=!0)},o(r){J(e.$$.fragment,r),n=!1},d(r){ae(e,r)}}}function ws(t){let e,n,r,i,s;const l=[_s,bs,gs],a=[];function o(u,d){return u[0]?0:u[2].length===0?1:2}return n=o(t),r=a[n]=l[n](t),{c(){e=m("div"),r.c(),c(e,"class",i="grid grid-cols-1 "+(t[3]==="grid"?"md:grid-cols-2":"")+" gap-4 md:gap-8 mb-16")},m(u,d){x(u,e,d),a[n].m(e,null),s=!0},p(u,[d]){let h=n;n=o(u),n===h?a[n].p(u,d):(Oe(),J(a[h],1,1,()=>{a[h]=null}),De(),r=a[n],r?r.p(u,d):(r=a[n]=l[n](u),r.c()),U(r,1),r.m(e,null)),(!s||d&8&&i!==(i="grid grid-cols-1 "+(u[3]==="grid"?"md:grid-cols-2":"")+" gap-4 md:gap-8 mb-16"))&&c(e,"class",i)},i(u){s||(U(r),s=!0)},o(u){J(r),s=!1},d(u){u&&A(e),a[n].d()}}}function ps(t,e,n){let r,i,s,l;be(t,vt,h=>n(7,l=h));let{articles:a=[]}=e,{viewMode:o="list"}=e,{isLoading:u=!1}=e,{showFavorites:d=!1}=e;return t.$$set=h=>{"articles"in h&&n(4,a=h.articles),"viewMode"in h&&n(5,o=h.viewMode),"isLoading"in h&&n(0,u=h.isLoading),"showFavorites"in h&&n(1,d=h.showFavorites)},t.$$.update=()=>{t.$$.dirty&96&&n(3,i=r?"grid":o),t.$$.dirty&146&&n(2,s=d?l:a)},n(6,r=window.innerWidth<je.MOBILE_BREAKPOINT),[u,d,s,i,a,o,r,l]}class vs extends he{constructor(e){super(),de(this,e,ps,ws,fe,{articles:4,viewMode:5,isLoading:0,showFavorites:1})}}function Mn(t,e,n){const r=t.slice();return r[11]=e[n],r}function ks(t,e,n){const r=t.slice();return r[8]=e[n],r}function ys(t){let e;return{c(){e=m("div"),e.textContent="No categories available for the current articles",c(e,"class","py-2 px-2 text-surface-500 text-sm")},m(n,r){x(n,e,r)},p:H,d(n){n&&A(e)}}}function Ms(t){let e,n=X(t[2]),r=[];for(let i=0;i<n.length;i+=1)r[i]=Sn(Mn(t,n,i));return{c(){e=m("div");for(let i=0;i<r.length;i+=1)r[i].c();c(e,"class","flex gap-2 py-2 px-2 whitespace-nowrap")},m(i,s){x(i,e,s);for(let l=0;l<r.length;l+=1)r[l]&&r[l].m(e,null)},p(i,s){if(s&21){n=X(i[2]);let l;for(l=0;l<n.length;l+=1){const a=Mn(i,n,l);r[l]?r[l].p(a,s):(r[l]=Sn(a),r[l].c(),r[l].m(e,null))}for(;l<r.length;l+=1)r[l].d(1);r.length=n.length}},d(i){i&&A(e),se(r,i)}}}function Ss(t){let e,n=X(Array(8)),r=[];for(let i=0;i<n.length;i+=1)r[i]=Os(ks(t,n,i));return{c(){e=m("div");for(let i=0;i<r.length;i+=1)r[i].c();c(e,"class","flex gap-2 py-2 px-2 whitespace-nowrap")},m(i,s){x(i,e,s);for(let l=0;l<r.length;l+=1)r[l]&&r[l].m(e,null)},p:H,d(i){i&&A(e),se(r,i)}}}function Sn(t){let e,n=t[11]+"",r,i,s,l,a;function o(){return t[6](t[11])}return{c(){e=m("button"),r=Z(n),i=E(),c(e,"class",s="h-10 px-5 rounded-xl text-sm font-medium transition-colors duration-200 backdrop-blur-sm shrink-0 border "+(t[0].includes(t[11])?"bg-primary-600 text-white border-primary-600 hover:bg-primary-700 hover:border-primary-700":"bg-white/80 border-surface-200 hover:border-primary-300 hover:bg-primary-50 text-surface-700"))},m(u,d){x(u,e,d),f(e,r),f(e,i),l||(a=Y(e,"click",o),l=!0)},p(u,d){t=u,d&4&&n!==(n=t[11]+"")&&ee(r,n),d&5&&s!==(s="h-10 px-5 rounded-xl text-sm font-medium transition-colors duration-200 backdrop-blur-sm shrink-0 border "+(t[0].includes(t[11])?"bg-primary-600 text-white border-primary-600 hover:bg-primary-700 hover:border-primary-700":"bg-white/80 border-surface-200 hover:border-primary-300 hover:bg-primary-50 text-surface-700"))&&c(e,"class",s)},d(u){u&&A(e),l=!1,a()}}}function Os(t){let e;return{c(){e=m("div"),c(e,"class","h-10 w-28 bg-surface-200/50 rounded-xl animate-pulse shrink-0")},m(n,r){x(n,e,r)},p:H,d(n){n&&A(e)}}}function Ds(t){let e,n,r,i,s,l;function a(d,h){return d[3]||d[1]?Ss:d[2].length>0?Ms:ys}let o=a(t),u=o(t);return{c(){e=m("div"),n=m("div"),r=E(),i=m("div"),s=E(),l=m("div"),u.c(),c(n,"class","absolute left-0 top-0 bottom-0 w-8 bg-gradient-to-r from-surface-50 to-transparent pointer-events-none z-10"),c(i,"class","absolute right-0 top-0 bottom-0 w-8 bg-gradient-to-l from-surface-50 to-transparent pointer-events-none z-10"),c(l,"class","overflow-x-auto scrollbar-hide svelte-tf0c0v"),c(e,"class","w-full relative")},m(d,h){x(d,e,h),f(e,n),f(e,r),f(e,i),f(e,s),f(e,l),u.m(l,null)},p(d,[h]){o===(o=a(d))&&u?u.p(d,h):(u.d(1),u=o(d),u&&(u.c(),u.m(l,null)))},i:H,o:H,d(d){d&&A(e),u.d()}}}function Ts(t,e,n){let r;be(t,pe,h=>n(5,r=h));let{selectedTopics:i=[]}=e,{isFilterLoading:s=!1}=e,l=[],a=!1;const o=ze();function u(h){i.includes(h)?n(0,i=i.filter(g=>g!==h)):n(0,i=[...i,h]),o("select",i)}const d=h=>u(h);return t.$$set=h=>{"selectedTopics"in h&&n(0,i=h.selectedTopics),"isFilterLoading"in h&&n(1,s=h.isFilterLoading)},t.$$.update=()=>{if(t.$$.dirty&32){n(3,a=!0);const h=new Map;r.forEach(g=>{(g.item.categories||[]).forEach(_=>{h.set(_,(h.get(_)||0)+1)})}),n(2,l=Array.from(h.entries()).sort((g,_)=>_[1]-g[1]).filter(([g,_])=>_>1||h.size===1).map(([g])=>g)),n(3,a=!1)}},[i,s,l,a,u,r,d]}class Cs extends he{constructor(e){super(),de(this,e,Ts,Ds,fe,{selectedTopics:0,isFilterLoading:1})}}function Ps(t){let e,n,r,i,s,l,a,o,u,d,h,g,_,w,v,k,M,p,I,L,C,y,O,B,D,S,W,b,T,P,q,Q;return{c(){e=m("div"),n=m("button"),r=K("svg"),i=K("path"),l=E(),a=m("button"),o=K("svg"),u=K("path"),h=E(),g=m("div"),_=m("span"),w=Z(t[0]),k=E(),M=m("span"),M.textContent="of",p=E(),I=m("span"),L=Z(t[1]),C=E(),y=m("button"),O=K("svg"),B=K("path"),S=E(),W=m("button"),b=K("svg"),T=K("path"),c(i,"stroke-linecap","round"),c(i,"stroke-linejoin","round"),c(i,"stroke-width","2"),c(i,"d","M11 19l-7-7 7-7m8 14l-7-7 7-7"),c(r,"xmlns","http://www.w3.org/2000/svg"),c(r,"class","h-5 w-5"),c(r,"fill","none"),c(r,"viewBox","0 0 24 24"),c(r,"stroke","currentColor"),c(n,"class","premium-icon-button"),n.disabled=s=t[0]===1||t[2],c(n,"aria-label","Go to first page"),c(u,"stroke-linecap","round"),c(u,"stroke-linejoin","round"),c(u,"stroke-width","2"),c(u,"d","M15 19l-7-7 7-7"),c(o,"xmlns","http://www.w3.org/2000/svg"),c(o,"class","h-5 w-5"),c(o,"fill","none"),c(o,"viewBox","0 0 24 24"),c(o,"stroke","currentColor"),c(a,"class","premium-icon-button"),a.disabled=d=t[0]===1||t[2],c(a,"aria-label","Previous page"),c(_,"class",v="w-10 h-10 flex items-center justify-center rounded-xl font-medium "+(t[2]?"bg-surface-200":"bg-primary-600")+" text-white transition-colors"),c(M,"class","text-surface-600"),c(I,"class","text-surface-900 font-medium"),c(g,"class","flex items-center gap-2 min-w-[100px] justify-center"),c(B,"stroke-linecap","round"),c(B,"stroke-linejoin","round"),c(B,"stroke-width","2"),c(B,"d","M9 5l7 7-7 7"),c(O,"xmlns","http://www.w3.org/2000/svg"),c(O,"class","h-5 w-5"),c(O,"fill","none"),c(O,"viewBox","0 0 24 24"),c(O,"stroke","currentColor"),c(y,"class","premium-icon-button"),y.disabled=D=t[0]===t[1]||t[2],c(y,"aria-label","Next page"),c(T,"stroke-linecap","round"),c(T,"stroke-linejoin","round"),c(T,"stroke-width","2"),c(T,"d","M13 5l7 7-7 7M5 5l7 7-7 7"),c(b,"xmlns","http://www.w3.org/2000/svg"),c(b,"class","h-5 w-5"),c(b,"fill","none"),c(b,"viewBox","0 0 24 24"),c(b,"stroke","currentColor"),c(W,"class","premium-icon-button"),W.disabled=P=t[0]===t[1]||t[2],c(W,"aria-label","Go to last page"),c(e,"class","flex items-center justify-center gap-2")},m(F,R){x(F,e,R),f(e,n),f(n,r),f(r,i),f(e,l),f(e,a),f(a,o),f(o,u),f(e,h),f(e,g),f(g,_),f(_,w),f(g,k),f(g,M),f(g,p),f(g,I),f(I,L),f(e,C),f(e,y),f(y,O),f(O,B),f(e,S),f(e,W),f(W,b),f(b,T),q||(Q=[Y(n,"click",t[3]),Y(a,"click",t[4]),Y(y,"click",t[5]),Y(W,"click",t[6])],q=!0)},p(F,[R]){R&5&&s!==(s=F[0]===1||F[2])&&(n.disabled=s),R&5&&d!==(d=F[0]===1||F[2])&&(a.disabled=d),R&1&&ee(w,F[0]),R&4&&v!==(v="w-10 h-10 flex items-center justify-center rounded-xl font-medium "+(F[2]?"bg-surface-200":"bg-primary-600")+" text-white transition-colors")&&c(_,"class",v),R&2&&ee(L,F[1]),R&7&&D!==(D=F[0]===F[1]||F[2])&&(y.disabled=D),R&7&&P!==(P=F[0]===F[1]||F[2])&&(W.disabled=P)},i:H,o:H,d(F){F&&A(e),q=!1,oe(Q)}}}function Es(t,e,n){let{currentPage:r=1}=e,{totalPages:i=1}=e,{isLoading:s=!1}=e;const l=()=>n(0,r=1),a=()=>n(0,r--,r),o=()=>n(0,r++,r),u=()=>n(0,r=i);return t.$$set=d=>{"currentPage"in d&&n(0,r=d.currentPage),"totalPages"in d&&n(1,i=d.totalPages),"isLoading"in d&&n(2,s=d.isLoading)},[r,i,s,l,a,o,u]}class As extends he{constructor(e){super(),de(this,e,Es,Ps,fe,{currentPage:0,totalPages:1,isLoading:2})}}function On(t){let e,n,r,i;function s(a){t[22](a)}let l={isFilterLoading:t[10]};return t[1]!==void 0&&(l.selectedTopics=t[1]),n=new Cs({props:l}),Te.push(()=>nt(n,"selectedTopics",s)),n.$on("select",t[18]),{c(){e=m("div"),ce(n.$$.fragment),c(e,"class","mb-6")},m(a,o){x(a,e,o),le(n,e,null),i=!0},p(a,o){const u={};o&1024&&(u.isFilterLoading=a[10]),!r&&o&2&&(r=!0,u.selectedTopics=a[1],tt(()=>r=!1)),n.$set(u)},i(a){i||(U(n.$$.fragment,a),i=!0)},o(a){J(n.$$.fragment,a),i=!1},d(a){a&&A(e),ae(n)}}}function Dn(t){let e,n,r,i;function s(a){t[23](a)}let l={totalPages:t[7],isLoading:t[5]||t[10]};return t[0]!==void 0&&(l.currentPage=t[0]),n=new As({props:l}),Te.push(()=>nt(n,"currentPage",s)),{c(){e=m("div"),ce(n.$$.fragment),c(e,"class","flex justify-center")},m(a,o){x(a,e,o),le(n,e,null),i=!0},p(a,o){const u={};o&128&&(u.totalPages=a[7]),o&1056&&(u.isLoading=a[5]||a[10]),!r&&o&1&&(r=!0,u.currentPage=a[0],tt(()=>r=!1)),n.$set(u)},i(a){i||(U(n.$$.fragment,a),i=!0)},o(a){J(n.$$.fragment,a),i=!1},d(a){a&&A(e),ae(n)}}}function Tn(t){let e,n;return e=new Yn({props:{isSearchOpen:t[3],showFavorites:t[4],viewMode:t[11],isMobile:!0}}),e.$on("search",t[12]),e.$on("viewChange",t[13]),e.$on("toggleFavorites",t[14]),{c(){ce(e.$$.fragment)},m(r,i){le(e,r,i),n=!0},p(r,i){const s={};i&8&&(s.isSearchOpen=r[3]),i&16&&(s.showFavorites=r[4]),i&2048&&(s.viewMode=r[11]),e.$set(s)},i(r){n||(U(e.$$.fragment,r),n=!0)},o(r){J(e.$$.fragment,r),n=!1},d(r){ae(e,r)}}}function xs(t){let e,n,r,i,s,l,a,o,u,d,h,g,_,w;n=new Ui({props:{showFavorites:t[4],viewMode:t[11],isSearchOpen:t[3],isSidebarOpen:t[2],displayDate:t[9]}}),n.$on("toggleSidebar",t[15]),n.$on("toggleFavorites",t[14]),n.$on("toggleSearch",t[21]),n.$on("viewChange",t[13]),n.$on("dateSelect",t[17]);let v=!t[4]&&On(t);a=new vs({props:{articles:t[6],viewMode:t[11],showFavorites:t[4],isLoading:t[5]||t[10]}});let k=!t[4]&&Dn(t);d=new is({props:{isOpen:t[2],onClose:t[24]}});let M=t[3]&&Tn(t);return{c(){e=m("main"),ce(n.$$.fragment),r=E(),i=m("div"),s=m("div"),v&&v.c(),l=E(),ce(a.$$.fragment),o=E(),k&&k.c(),u=E(),ce(d.$$.fragment),h=E(),M&&M.c(),c(s,"class","max-w-7xl mx-auto px-4 md:px-6 py-4"),c(i,"class","pt-16 md:pt-16 md:pl-64"),c(e,"class","min-h-screen bg-slate-50")},m(p,I){x(p,e,I),le(n,e,null),f(e,r),f(e,i),f(i,s),v&&v.m(s,null),f(s,l),le(a,s,null),f(s,o),k&&k.m(s,null),f(e,u),le(d,e,null),f(e,h),M&&M.m(e,null),t[25](e),g=!0,_||(w=Y(e,"click",t[16]),_=!0)},p(p,[I]){const L={};I&16&&(L.showFavorites=p[4]),I&2048&&(L.viewMode=p[11]),I&8&&(L.isSearchOpen=p[3]),I&4&&(L.isSidebarOpen=p[2]),I&512&&(L.displayDate=p[9]),n.$set(L),p[4]?v&&(Oe(),J(v,1,1,()=>{v=null}),De()):v?(v.p(p,I),I&16&&U(v,1)):(v=On(p),v.c(),U(v,1),v.m(s,l));const C={};I&64&&(C.articles=p[6]),I&2048&&(C.viewMode=p[11]),I&16&&(C.showFavorites=p[4]),I&1056&&(C.isLoading=p[5]||p[10]),a.$set(C),p[4]?k&&(Oe(),J(k,1,1,()=>{k=null}),De()):k?(k.p(p,I),I&16&&U(k,1)):(k=Dn(p),k.c(),U(k,1),k.m(s,null));const y={};I&4&&(y.isOpen=p[2]),I&4&&(y.onClose=p[24]),d.$set(y),p[3]?M?(M.p(p,I),I&8&&U(M,1)):(M=Tn(p),M.c(),U(M,1),M.m(e,null)):M&&(Oe(),J(M,1,1,()=>{M=null}),De())},i(p){g||(U(n.$$.fragment,p),U(v),U(a.$$.fragment,p),U(k),U(d.$$.fragment,p),U(M),g=!0)},o(p){J(n.$$.fragment,p),J(v),J(a.$$.fragment,p),J(k),J(d.$$.fragment,p),J(M),g=!1},d(p){p&&A(e),ae(n),v&&v.d(),ae(a),k&&k.d(),ae(d),M&&M.d(),t[25](null),_=!1,w()}}}function Ls(t,e,n){let r,i,s;be(t,Se,R=>n(19,r=R)),be(t,we,R=>n(20,i=R)),be(t,pe,R=>n(27,s=R));const l=pt.getInstance();let a=1,o=[],u=!1,d=!1,h=!1,g=!0,_=[],w=1,v,k=ot(),M=k,p=!1,I=window.innerWidth<768?"grid":"list";xn(async()=>{try{return await l.fetchArticles(k),await b(a),window.addEventListener("resize",L),()=>window.removeEventListener("resize",L)}catch(R){console.error("Failed to load articles:",R)}});function L(){n(11,I=window.innerWidth<768?"grid":"list"),b(a)}function C(R){Se.set(R.detail),n(0,a=1),b(a)}function y(R){window.innerWidth>=768&&(n(11,I=R.detail),n(0,a=1),b(a))}function O(){n(4,h=!h),n(0,a=1),b(a)}function B(){n(2,u=!u)}function D(R){if(window.innerWidth<768&&u){const N=R.target;!N.closest(".sidebar")&&!N.closest(".sidebar-toggle")&&n(2,u=!1)}}async function S(R){k=R.detail,n(5,g=!0),await l.fetchArticles(k),await b(a)}async function W(R){n(1,o=R.detail),n(10,p=!0),n(0,a=1),await b(a),n(10,p=!1)}async function b(R){if(h){n(5,g=!1);return}n(5,g=!0),n(6,_=[]),await new Promise(j=>setTimeout(j,300));const N=ir(s);let z=(s||[]).map(({hash:j,item:te})=>{var $,ne,Re,yt,Mt;const ie=te.categories||[],G=ie.length>3?ie.filter(ut=>N.includes(ut)).slice(0,3):ie;return{id:j,imageUrl:(($=te.image)==null?void 0:$.url)||"/default-image.jpg",author:((Re=(ne=te.authors)==null?void 0:ne[0])==null?void 0:Re.name)||"Unknown Author",title:te.title,description:te.description.replace(/<[^>]*>/g,""),tags:G.map(ut=>({text:ut,variant:"primary"})),url:((yt=te.links)==null?void 0:yt[0])||"#",published:te.published,categories:te.categories||[],source:te.source||"Unknown Source",hasImage:!!((Mt=te.image)!=null&&Mt.url)}}).sort((j,te)=>j.hasImage&&!te.hasImage?-1:!j.hasImage&&te.hasImage?1:new Date(te.published).getTime()-new Date(j.published).getTime());if(r){const j=r.toLowerCase();z=z.filter(te=>te.title.toLowerCase().includes(j)||te.description.toLowerCase().includes(j)||te.author.toLowerCase().includes(j)||te.source.toLowerCase().includes(j)||te.categories.some(ie=>ie.toLowerCase().includes(j)))}(i.authors.length>0||i.topics.length>0||i.publications.length>0)&&(z=z.filter(j=>{const te=i.authors.length===0||i.authors.includes(j.author),ie=i.topics.length===0||i.topics.every($=>j.categories.includes($)),G=i.publications.length===0||i.publications.includes(j.source);return te&&ie&&G})),z.length>0&&z[0].published&&n(9,M=new Date(z[0].published));const ve=I==="list"?6:12,Be=(R-1)*ve,ge=Be+ve;n(7,w=Math.ceil(z.length/ve)),n(6,_=z.slice(Be,ge)),n(5,g=!1)}const T=()=>n(3,d=!d);function P(R){o=R,n(1,o)}function q(R){a=R,n(0,a)}const Q=()=>n(2,u=!1);function F(R){Te[R?"unshift":"push"](()=>{v=R,n(8,v)})}return t.$$.update=()=>{t.$$.dirty&1572865&&(i||r)&&b(a)},[a,o,u,d,h,g,_,w,v,M,p,I,C,y,O,B,D,S,W,r,i,T,P,q,Q,F]}class Fs extends he{constructor(e){super(),de(this,e,Ls,xs,fe,{})}}new Fs({target:document.getElementById("app")});
